{
  "version": 3,
  "sources": [],
  "sections": [
    {"offset": {"line": 52, "column": 0}, "map": {"version":3,"sources":["file:///E:/Attack%20Capital/SignalHub/frontend/src/lib/prisma.ts"],"sourcesContent":["import { PrismaClient } from \"@prisma/client\";\r\n\r\ndeclare global {\r\n  // prevent multiple instantiation in dev\r\n  // eslint-disable-next-line no-var\r\n  var prisma: PrismaClient | undefined;\r\n}\r\n\r\nexport const prisma =\r\n  global.prisma ??\r\n  new PrismaClient({\r\n    log: [\"query\"],\r\n  });\r\n\r\nif (process.env.NODE_ENV !== \"production\") global.prisma = prisma;\r\n"],"names":[],"mappings":";;;;AAAA;;AAQO,MAAM,SACX,OAAO,MAAM,IACb,IAAI,6IAAY,CAAC;IACf,KAAK;QAAC;KAAQ;AAChB;AAEF,wCAA2C,OAAO,MAAM,GAAG","debugId":null}},
    {"offset": {"line": 98, "column": 0}, "map": {"version":3,"sources":["file:///E:/Attack%20Capital/SignalHub/frontend/src/lib/auth.ts"],"sourcesContent":["// src/lib/auth.ts\r\nimport bcrypt from \"bcrypt\";\r\nimport jwt from \"jsonwebtoken\";\r\nimport { prisma } from \"./prisma\";\r\nimport type { NextRequest } from \"next/server\";\r\n\r\nconst JWT_SECRET =\r\n  process.env.SESSION_SECRET ||\r\n  process.env.NEXTAUTH_SECRET ||\r\n  process.env.JWT_SECRET ||\r\n  \"dev-secret\";\r\n\r\n// Keep legacy cookie names to support older sessions during migration.\r\n// Order matters: prefer 'session' then fallbacks.\r\nconst COOKIE_CANDIDATES = [\"session\", \"token\", \"auth_token\", \"authToken\", \"auth\"] as const;\r\n\r\ntype TokenPayload = {\r\n  id?: string;\r\n  email?: string;\r\n  role?: string;\r\n  // allow other claims but keep them optional/unknown\r\n  [k: string]: any;\r\n};\r\n\r\n/**\r\n * Sign a JWT for a user.\r\n *\r\n * - Ensures a canonical `id` claim is present when provided in the payload.\r\n * - Copies `email` and `role` when present.\r\n * - Accepts `expiresIn` in jsonwebtoken format (\"7d\", \"1h\", etc).\r\n *\r\n * NOTE: Do not include sensitive data (password hashes, secrets) in token payload.\r\n */\r\nexport function signToken(payload: Record<string, any>, expiresIn = \"7d\"): string {\r\n  const finalPayload: TokenPayload = {};\r\n\r\n  // Accept common id fallback keys for compatibility\r\n  const providedId = payload?.id ?? payload?.userId ?? payload?.sub ?? payload?.uid ?? null;\r\n  if (providedId) finalPayload.id = String(providedId);\r\n\r\n  if (payload?.email) finalPayload.email = payload.email;\r\n  if (payload?.role) finalPayload.role = payload.role;\r\n\r\n  // If you need extra claims (exp, aud, etc), add intentionally here.\r\n  return jwt.sign(finalPayload, JWT_SECRET, { expiresIn });\r\n}\r\n\r\n/** Verify token and return decoded payload or null if invalid/expired. */\r\nexport function verifyToken(token: string): TokenPayload | null {\r\n  try {\r\n    const decoded = jwt.verify(token, JWT_SECRET) as TokenPayload;\r\n    return decoded;\r\n  } catch (err: any) {\r\n    if (process.env.NODE_ENV !== \"production\") {\r\n      console.debug(\"[auth] verifyToken failed:\", err?.message ?? err);\r\n    }\r\n    return null;\r\n  }\r\n}\r\n\r\n/* -------------------------- Password utilities --------------------------- */\r\n\r\n/** Hash a plain password (bcrypt). */\r\nexport async function hashPassword(password: string): Promise<string> {\r\n  const saltRounds = Number(process.env.BCRYPT_SALT_ROUNDS ?? 10);\r\n  return bcrypt.hash(password, saltRounds);\r\n}\r\n\r\n/** Verify a password against a bcrypt hash. Returns boolean. */\r\nexport async function verifyPassword(password: string, hash: string): Promise<boolean> {\r\n  try {\r\n    return bcrypt.compare(password, hash);\r\n  } catch (err) {\r\n    if (process.env.NODE_ENV !== \"production\") {\r\n      console.error(\"[auth] verifyPassword error:\", err);\r\n    }\r\n    return false;\r\n  }\r\n}\r\n\r\n/* --------------------------- Session utilities --------------------------- */\r\n\r\n/**\r\n * Read token from Authorization header (Bearer) OR a list of well-known cookies.\r\n * Returns the canonical user record { id, email, name, role } fetched from DB, or null.\r\n *\r\n * Accepts a NextRequest (Next.js route/middleware).\r\n *\r\n * - Prefers Authorization Bearer token.\r\n * - Falls back through COOKIE_CANDIDATES (in order) and returns the first matching user.\r\n * - Accepts older tokens with sub/userId/uid claims for migration.\r\n *\r\n * Important: we fetch the user from the DB each time to ensure role and existence are canonical.\r\n */\r\nexport async function getUserFromRequest(req: NextRequest) {\r\n  try {\r\n    // 1) Authorization header (Bearer)\r\n    const authHeader = req.headers.get(\"authorization\");\r\n    if (authHeader?.startsWith(\"Bearer \")) {\r\n      const token = authHeader.slice(7).trim();\r\n      const payload = verifyToken(token);\r\n      if (payload) {\r\n        const userId = payload.id ?? payload.sub ?? payload.userId ?? payload.uid;\r\n        if (userId) {\r\n          const user = await prisma.user.findUnique({\r\n            where: { id: String(userId) },\r\n            select: { id: true, email: true, name: true, role: true },\r\n          });\r\n          if (user) return user;\r\n        }\r\n      } else if (process.env.NODE_ENV !== \"production\") {\r\n        console.debug(\"[auth] bearer token present but failed verification\");\r\n      }\r\n    }\r\n\r\n    // 2) Cookies\r\n    // NextRequest cookie API: req.cookies.get(name) returns { name, value } | undefined\r\n    for (const name of COOKIE_CANDIDATES) {\r\n      try {\r\n        const cookie = req.cookies.get(name);\r\n        if (!cookie) {\r\n          if (process.env.NODE_ENV !== \"production\") {\r\n            console.debug(`[auth] cookie probe: ${name} => missing`);\r\n          }\r\n          continue;\r\n        }\r\n\r\n        const token = cookie.value;\r\n        if (!token) continue;\r\n\r\n        const payload = verifyToken(token);\r\n        if (!payload) {\r\n          if (process.env.NODE_ENV !== \"production\") {\r\n            console.debug(`[auth] cookie ${name} token failed verify/expired`);\r\n          }\r\n          continue;\r\n        }\r\n\r\n        const userId = payload.id ?? payload.sub ?? payload.userId ?? payload.uid;\r\n        if (!userId) {\r\n          if (process.env.NODE_ENV !== \"production\") {\r\n            console.debug(`[auth] cookie ${name} token missing id/sub/userId/uid`);\r\n          }\r\n          continue;\r\n        }\r\n\r\n        const user = await prisma.user.findUnique({\r\n          where: { id: String(userId) },\r\n          select: { id: true, email: true, name: true, role: true },\r\n        });\r\n\r\n        if (user) {\r\n          if (process.env.NODE_ENV !== \"production\") {\r\n            console.debug(`[auth] cookie ${name} matched user id ${user.id}`);\r\n          }\r\n          return user;\r\n        } else {\r\n          if (process.env.NODE_ENV !== \"production\") {\r\n            console.debug(`[auth] cookie ${name} decoded id ${userId} not found`);\r\n          }\r\n        }\r\n      } catch (err) {\r\n        // Some runtimes may throw on cookie access — continue to next candidate\r\n        if (process.env.NODE_ENV !== \"production\") {\r\n          console.debug(`[auth] cookie probe error for ${name}:`, err);\r\n        }\r\n        continue;\r\n      }\r\n    }\r\n\r\n    // nothing matched\r\n    return null;\r\n  } catch (err) {\r\n    console.error(\"[auth] getUserFromRequest error:\", err);\r\n    return null;\r\n  }\r\n}\r\n\r\n/**\r\n * Require authenticated user and optional allowedRoles list.\r\n * Throws a Next.js Response if unauthorized/forbidden so it can be used inside route handlers.\r\n *\r\n * Example:\r\n *   const user = await requireRole(req, ['admin']);\r\n */\r\nexport async function requireRole(req: NextRequest, allowedRoles: string[] = []) {\r\n  const user = await getUserFromRequest(req);\r\n  if (!user) throw new Response(\"Unauthorized\", { status: 401 });\r\n  if (allowedRoles.length && !allowedRoles.includes(user.role)) {\r\n    throw new Response(\"Forbidden\", { status: 403 });\r\n  }\r\n  return user;\r\n}\r\n"],"names":[],"mappings":"AAAA,kBAAkB;;;;;;;;;;;;;;;AAClB;AACA;AACA;;;;AAGA,MAAM,aACJ,QAAQ,GAAG,CAAC,cAAc,IAC1B,QAAQ,GAAG,CAAC,eAAe,IAC3B,QAAQ,GAAG,CAAC,UAAU,IACtB;AAEF,uEAAuE;AACvE,kDAAkD;AAClD,MAAM,oBAAoB;IAAC;IAAW;IAAS;IAAc;IAAa;CAAO;AAmB1E,SAAS,UAAU,OAA4B,EAAE,YAAY,IAAI;IACtE,MAAM,eAA6B,CAAC;IAEpC,mDAAmD;IACnD,MAAM,aAAa,SAAS,MAAM,SAAS,UAAU,SAAS,OAAO,SAAS,OAAO;IACrF,IAAI,YAAY,aAAa,EAAE,GAAG,OAAO;IAEzC,IAAI,SAAS,OAAO,aAAa,KAAK,GAAG,QAAQ,KAAK;IACtD,IAAI,SAAS,MAAM,aAAa,IAAI,GAAG,QAAQ,IAAI;IAEnD,oEAAoE;IACpE,OAAO,kJAAG,CAAC,IAAI,CAAC,cAAc,YAAY;QAAE;IAAU;AACxD;AAGO,SAAS,YAAY,KAAa;IACvC,IAAI;QACF,MAAM,UAAU,kJAAG,CAAC,MAAM,CAAC,OAAO;QAClC,OAAO;IACT,EAAE,OAAO,KAAU;QACjB,wCAA2C;YACzC,QAAQ,KAAK,CAAC,8BAA8B,KAAK,WAAW;QAC9D;QACA,OAAO;IACT;AACF;AAKO,eAAe,aAAa,QAAgB;IACjD,MAAM,aAAa,OAAO,QAAQ,GAAG,CAAC,kBAAkB,IAAI;IAC5D,OAAO,gHAAM,CAAC,IAAI,CAAC,UAAU;AAC/B;AAGO,eAAe,eAAe,QAAgB,EAAE,IAAY;IACjE,IAAI;QACF,OAAO,gHAAM,CAAC,OAAO,CAAC,UAAU;IAClC,EAAE,OAAO,KAAK;QACZ,wCAA2C;YACzC,QAAQ,KAAK,CAAC,gCAAgC;QAChD;QACA,OAAO;IACT;AACF;AAgBO,eAAe,mBAAmB,GAAgB;IACvD,IAAI;QACF,mCAAmC;QACnC,MAAM,aAAa,IAAI,OAAO,CAAC,GAAG,CAAC;QACnC,IAAI,YAAY,WAAW,YAAY;YACrC,MAAM,QAAQ,WAAW,KAAK,CAAC,GAAG,IAAI;YACtC,MAAM,UAAU,YAAY;YAC5B,IAAI,SAAS;gBACX,MAAM,SAAS,QAAQ,EAAE,IAAI,QAAQ,GAAG,IAAI,QAAQ,MAAM,IAAI,QAAQ,GAAG;gBACzE,IAAI,QAAQ;oBACV,MAAM,OAAO,MAAM,gIAAM,CAAC,IAAI,CAAC,UAAU,CAAC;wBACxC,OAAO;4BAAE,IAAI,OAAO;wBAAQ;wBAC5B,QAAQ;4BAAE,IAAI;4BAAM,OAAO;4BAAM,MAAM;4BAAM,MAAM;wBAAK;oBAC1D;oBACA,IAAI,MAAM,OAAO;gBACnB;YACF,OAAO,wCAA2C;gBAChD,QAAQ,KAAK,CAAC;YAChB;QACF;QAEA,aAAa;QACb,oFAAoF;QACpF,KAAK,MAAM,QAAQ,kBAAmB;YACpC,IAAI;gBACF,MAAM,SAAS,IAAI,OAAO,CAAC,GAAG,CAAC;gBAC/B,IAAI,CAAC,QAAQ;oBACX,wCAA2C;wBACzC,QAAQ,KAAK,CAAC,CAAC,qBAAqB,EAAE,KAAK,WAAW,CAAC;oBACzD;oBACA;gBACF;gBAEA,MAAM,QAAQ,OAAO,KAAK;gBAC1B,IAAI,CAAC,OAAO;gBAEZ,MAAM,UAAU,YAAY;gBAC5B,IAAI,CAAC,SAAS;oBACZ,wCAA2C;wBACzC,QAAQ,KAAK,CAAC,CAAC,cAAc,EAAE,KAAK,4BAA4B,CAAC;oBACnE;oBACA;gBACF;gBAEA,MAAM,SAAS,QAAQ,EAAE,IAAI,QAAQ,GAAG,IAAI,QAAQ,MAAM,IAAI,QAAQ,GAAG;gBACzE,IAAI,CAAC,QAAQ;oBACX,wCAA2C;wBACzC,QAAQ,KAAK,CAAC,CAAC,cAAc,EAAE,KAAK,gCAAgC,CAAC;oBACvE;oBACA;gBACF;gBAEA,MAAM,OAAO,MAAM,gIAAM,CAAC,IAAI,CAAC,UAAU,CAAC;oBACxC,OAAO;wBAAE,IAAI,OAAO;oBAAQ;oBAC5B,QAAQ;wBAAE,IAAI;wBAAM,OAAO;wBAAM,MAAM;wBAAM,MAAM;oBAAK;gBAC1D;gBAEA,IAAI,MAAM;oBACR,wCAA2C;wBACzC,QAAQ,KAAK,CAAC,CAAC,cAAc,EAAE,KAAK,iBAAiB,EAAE,KAAK,EAAE,EAAE;oBAClE;oBACA,OAAO;gBACT,OAAO;oBACL,wCAA2C;wBACzC,QAAQ,KAAK,CAAC,CAAC,cAAc,EAAE,KAAK,YAAY,EAAE,OAAO,UAAU,CAAC;oBACtE;gBACF;YACF,EAAE,OAAO,KAAK;gBACZ,wEAAwE;gBACxE,wCAA2C;oBACzC,QAAQ,KAAK,CAAC,CAAC,8BAA8B,EAAE,KAAK,CAAC,CAAC,EAAE;gBAC1D;gBACA;YACF;QACF;QAEA,kBAAkB;QAClB,OAAO;IACT,EAAE,OAAO,KAAK;QACZ,QAAQ,KAAK,CAAC,oCAAoC;QAClD,OAAO;IACT;AACF;AASO,eAAe,YAAY,GAAgB,EAAE,eAAyB,EAAE;IAC7E,MAAM,OAAO,MAAM,mBAAmB;IACtC,IAAI,CAAC,MAAM,MAAM,IAAI,SAAS,gBAAgB;QAAE,QAAQ;IAAI;IAC5D,IAAI,aAAa,MAAM,IAAI,CAAC,aAAa,QAAQ,CAAC,KAAK,IAAI,GAAG;QAC5D,MAAM,IAAI,SAAS,aAAa;YAAE,QAAQ;QAAI;IAChD;IACA,OAAO;AACT","debugId":null}},
    {"offset": {"line": 272, "column": 0}, "map": {"version":3,"sources":["file:///E:/Attack%20Capital/SignalHub/frontend/src/app/api/me/route.ts"],"sourcesContent":["// src/app/api/me/route.ts\r\nimport { NextResponse, type NextRequest } from \"next/server\";\r\nimport { prisma } from \"@/lib/prisma\";\r\nimport { getUserFromRequest } from \"@/lib/auth\";\r\nimport { Prisma } from \"@prisma/client\";\r\n\r\n/** compute since date (UTC) */\r\nfunction sinceDays(days = 30) {\r\n  const d = new Date();\r\n  d.setUTCDate(d.getUTCDate() - days);\r\n  return d;\r\n}\r\n\r\n/** Helper: compute base64 size (bytes) */\r\nfunction base64SizeBytes(base64String: string) {\r\n  if (!base64String || typeof base64String !== \"string\") return 0;\r\n  const comma = base64String.indexOf(\",\");\r\n  const b64 = comma >= 0 ? base64String.slice(comma + 1) : base64String;\r\n  // remove whitespace/newlines that may be present\r\n  const normalized = b64.replace(/\\s+/g, \"\");\r\n  const padding = normalized.endsWith(\"==\") ? 2 : normalized.endsWith(\"=\") ? 1 : 0;\r\n  return Math.ceil((normalized.length * 3) / 4) - padding;\r\n}\r\n\r\n/** Whitelisted writable profile fields */\r\nconst ALLOWED_PROFILE_FIELDS = new Set([\r\n  \"avatarUrl\",\r\n  \"displayName\",\r\n  \"bio\",\r\n  \"metadata\",\r\n  \"gender\",\r\n  \"countryCode\",\r\n  \"countryName\",\r\n  \"stateName\",\r\n  \"timezone\",\r\n  \"countryGeonameId\",\r\n  \"stateGeonameId\",\r\n]);\r\n\r\n/** Sensible max avatar bytes (2 MB) */\r\nconst MAX_AVATAR_BYTES = 2 * 1024 * 1024;\r\n\r\n/** Sanitize profile payload — returns cleaned object or null */\r\nfunction sanitizeProfilePayload(raw: any) {\r\n  if (!raw || typeof raw !== \"object\") return null;\r\n  const cleaned: Record<string, any> = {};\r\n  const rejectedKeys: string[] = [];\r\n\r\n  for (const [k, v] of Object.entries(raw)) {\r\n    if (ALLOWED_PROFILE_FIELDS.has(k)) {\r\n      // Coerce empty strings -> null to ease DB upsert semantics\r\n      cleaned[k] = v === \"\" ? null : v;\r\n    } else {\r\n      rejectedKeys.push(k);\r\n    }\r\n  }\r\n\r\n  if (rejectedKeys.length > 0) {\r\n    console.info(\"sanitizeProfilePayload dropped unknown/read-only profile keys:\", rejectedKeys);\r\n  }\r\n\r\n  return Object.keys(cleaned).length === 0 ? null : cleaned;\r\n}\r\n\r\n/**\r\n * GET /api/me\r\n * - returns { user, activity } or 401\r\n */\r\nexport async function GET(req: NextRequest) {\r\n  // getUserFromRequest expects NextRequest\r\n  const sessionUser = await getUserFromRequest(req);\r\n  if (!sessionUser) return NextResponse.json({ user: null }, { status: 401 });\r\n\r\n  // Re-fetch canonical user from DB (don't trust token-only role if changed)\r\n  const dbUser = await prisma.user.findUnique({\r\n    where: { id: sessionUser.id },\r\n    select: { id: true, email: true, name: true, role: true, profile: true, updatedAt: true },\r\n  });\r\n\r\n  if (!dbUser) {\r\n    // user removed from DB; treat as unauthorized\r\n    return NextResponse.json({ user: null }, { status: 401 });\r\n  }\r\n\r\n  const since = sinceDays(30);\r\n\r\n  const [logins30d, changes30d] = await Promise.all([\r\n    prisma.activityLog.count({ where: { userId: sessionUser.id, type: \"LOGIN\", createdAt: { gte: since } } }),\r\n    prisma.activityLog.count({ where: { userId: sessionUser.id, type: \"PROFILE_CHANGE\", createdAt: { gte: since } } }),\r\n  ]);\r\n\r\n  return NextResponse.json({ user: dbUser, activity: { logins30d, changes30d } });\r\n}\r\n\r\n/**\r\n * PATCH /api/me\r\n * - allow updating whitelisted profile fields and name\r\n */\r\nexport async function PATCH(req: NextRequest) {\r\n  const sessionUser = await getUserFromRequest(req);\r\n  if (!sessionUser) return NextResponse.json({ error: \"Unauthorized\" }, { status: 401 });\r\n\r\n  const rawBody = await req.json().catch(() => ({}));\r\n  if (!rawBody || typeof rawBody !== \"object\") {\r\n    return NextResponse.json({ error: \"Invalid request body\" }, { status: 400 });\r\n  }\r\n\r\n  const userUpdates: Record<string, any> = {};\r\n\r\n  if (typeof rawBody.name === \"string\") {\r\n    const trimmed = rawBody.name.trim();\r\n    if (!trimmed) {\r\n      return NextResponse.json({ error: \"Name cannot be empty\" }, { status: 400 });\r\n    }\r\n    userUpdates.name = trimmed;\r\n  }\r\n\r\n  let profilePayload: Record<string, any> | null = null;\r\n\r\n  if (rawBody.profile && typeof rawBody.profile === \"object\") {\r\n    const incomingProfile = rawBody.profile;\r\n\r\n    // If avatarBase64 is supplied, validate size early\r\n    if (incomingProfile.avatarBase64) {\r\n      const size = base64SizeBytes(incomingProfile.avatarBase64);\r\n      if (size <= 0) {\r\n        return NextResponse.json({ error: \"Invalid avatar data\" }, { status: 400 });\r\n      }\r\n      if (size > MAX_AVATAR_BYTES) {\r\n        return NextResponse.json({ error: \"Avatar exceeds 2 MB limit\" }, { status: 400 });\r\n      }\r\n    }\r\n\r\n    // sanitize profile to allowed fields\r\n    profilePayload = sanitizeProfilePayload(incomingProfile);\r\n\r\n    // if avatarBase64 present and sanitized, map to avatarUrl field (stored as base64 in DB)\r\n    if (incomingProfile.avatarBase64) {\r\n      profilePayload = { ...(profilePayload ?? {}), avatarUrl: incomingProfile.avatarBase64 };\r\n    }\r\n  }\r\n\r\n  if (Object.keys(userUpdates).length === 0 && !profilePayload) {\r\n    return NextResponse.json({ error: \"Nothing to update\" }, { status: 400 });\r\n  }\r\n\r\n  try {\r\n    const data: Record<string, any> = { ...userUpdates };\r\n\r\n    if (profilePayload) {\r\n      data.profile = {\r\n        upsert: {\r\n          update: profilePayload,\r\n          create: profilePayload,\r\n        },\r\n      };\r\n    }\r\n\r\n    const updated = await prisma.user.update({\r\n      where: { id: sessionUser.id },\r\n      data,\r\n      select: { id: true, email: true, name: true, role: true, profile: true, updatedAt: true },\r\n    });\r\n\r\n    // Log profile change activity if profile changed\r\n    if (profilePayload) {\r\n      (async () => {\r\n        try {\r\n          await prisma.activityLog.create({\r\n            data: {\r\n              userId: sessionUser.id,\r\n              type: \"PROFILE_CHANGE\",\r\n              meta: { fields: Object.keys(rawBody.profile ?? {}), ts: new Date().toISOString() },\r\n            },\r\n          });\r\n        } catch (err) {\r\n          console.error(\"Failed to write profile change activity:\", err);\r\n        }\r\n      })();\r\n    }\r\n\r\n    const since = sinceDays(30);\r\n    const [logins30d, changes30d] = await Promise.all([\r\n      prisma.activityLog.count({ where: { userId: sessionUser.id, type: \"LOGIN\", createdAt: { gte: since } } }),\r\n      prisma.activityLog.count({ where: { userId: sessionUser.id, type: \"PROFILE_CHANGE\", createdAt: { gte: since } } }),\r\n    ]);\r\n\r\n    return NextResponse.json({ user: updated, activity: { logins30d, changes30d } });\r\n  } catch (err: any) {\r\n    console.error(\"Profile update error:\", err);\r\n\r\n    if (err instanceof Prisma.PrismaClientKnownRequestError) {\r\n      if (err.code === \"P2002\") {\r\n        return NextResponse.json({ error: \"Conflict: unique constraint\", detail: err.message }, { status: 409 });\r\n      }\r\n      if (err.code === \"P2025\") {\r\n        return NextResponse.json({ error: \"Not found\", detail: err.message }, { status: 404 });\r\n      }\r\n    }\r\n\r\n    return NextResponse.json({ error: \"Failed to update\", detail: err?.message ?? String(err) }, { status: 500 });\r\n  }\r\n}\r\n"],"names":[],"mappings":"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","debugId":null}}]
}