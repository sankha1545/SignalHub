{
  "version": 3,
  "sources": [],
  "sections": [
    {"offset": {"line": 4, "column": 0}, "map": {"version":3,"sources":["E:/Attackcapital/SignalHub/frontend/src/components/modals/ConfirmModal.tsx"],"sourcesContent":["\"use client\";\r\n\r\nimport React, { useEffect, useRef } from \"react\";\r\nimport ReactDOM from \"react-dom\";\r\n\r\ntype ConfirmModalProps = {\r\n  open: boolean;\r\n  title?: string;\r\n  message?: string;\r\n  confirmLabel?: string;\r\n  cancelLabel?: string;\r\n  onConfirm: () => Promise<void> | void;\r\n  onCancel: () => void;\r\n};\r\n\r\nexport default function ConfirmModal({\r\n  open,\r\n  title = \"Confirm\",\r\n  message = \"Are you sure?\",\r\n  confirmLabel = \"Yes\",\r\n  cancelLabel = \"Cancel\",\r\n  onConfirm,\r\n  onCancel,\r\n}: ConfirmModalProps) {\r\n  const ref = useRef<HTMLDivElement | null>(null);\r\n  const primaryBtnRef = useRef<HTMLButtonElement | null>(null);\r\n\r\n  // prevent background scroll\r\n  useEffect(() => {\r\n    if (!open) return;\r\n    const prev = document.body.style.overflow;\r\n    document.body.style.overflow = \"hidden\";\r\n    primaryBtnRef.current?.focus();\r\n    return () => {\r\n      document.body.style.overflow = prev;\r\n    };\r\n  }, [open]);\r\n\r\n  // close on ESC\r\n  useEffect(() => {\r\n    function onKey(e: KeyboardEvent) {\r\n      if (e.key === \"Escape\") onCancel();\r\n    }\r\n    if (open) window.addEventListener(\"keydown\", onKey);\r\n    return () => window.removeEventListener(\"keydown\", onKey);\r\n  }, [open, onCancel]);\r\n\r\n  if (!open) return null;\r\n\r\n  return ReactDOM.createPortal(\r\n    <div\r\n      role=\"dialog\"\r\n      aria-modal=\"true\"\r\n      aria-labelledby=\"confirm-title\"\r\n      className=\"fixed inset-0 z-50 flex items-center justify-center p-4\"\r\n    >\r\n      <div\r\n        className=\"absolute inset-0 bg-black/40 backdrop-blur-sm\"\r\n        onClick={onCancel}\r\n        aria-hidden\r\n      />\r\n      <div\r\n        ref={ref}\r\n        className=\"relative z-10 max-w-lg w-full bg-white rounded-2xl shadow-xl border p-6\"\r\n      >\r\n        <h3 id=\"confirm-title\" className=\"text-lg font-semibold text-slate-900\">\r\n          {title}\r\n        </h3>\r\n        <p className=\"mt-2 text-sm text-slate-600\">{message}</p>\r\n\r\n        <div className=\"mt-6 flex justify-end gap-3\">\r\n          <button\r\n            onClick={onCancel}\r\n            className=\"px-4 py-2 rounded-lg border text-sm text-slate-700 hover:bg-slate-50\"\r\n          >\r\n            {cancelLabel}\r\n          </button>\r\n          <button\r\n            ref={primaryBtnRef}\r\n            onClick={() => void onConfirm()}\r\n            className=\"px-4 py-2 rounded-lg bg-red-600 text-white text-sm hover:opacity-95\"\r\n          >\r\n            {confirmLabel}\r\n          </button>\r\n        </div>\r\n      </div>\r\n    </div>,\r\n    document.body\r\n  );\r\n}\r\n"],"names":["c","_c","React","useEffect","useRef","ReactDOM","ConfirmModalProps","open","title","message","confirmLabel","cancelLabel","onConfirm","Promise","onCancel","ConfirmModal","t0","$","$i","Symbol","for","t1","t2","t3","t4","undefined","ref","primaryBtnRef","t5","t6","ConfirmModal[useEffect()]","prev","document","body","style","overflow","current","focus","t7","t8","onKey","e","key","window","addEventListener","removeEventListener","t9","t10","t11","t12","t13","t14","ConfirmModal[<button>.onClick]","t15","t16","t17","t18","createPortal"],"mappings":"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","ignoreList":[],"debugId":null}},
    {"offset": {"line": 274, "column": 0}, "map": {"version":3,"sources":["E:/Attackcapital/SignalHub/frontend/src/components/profile/ProfileMenu.tsx"],"sourcesContent":["\"use client\";\r\n\r\nimport React, { useEffect, useRef, useState } from \"react\";\r\nimport { useRouter } from \"next/navigation\";\r\nimport ConfirmModal from \"../modals/ConfirmModal\";\r\n\r\nexport default function ProfileMenu({ avatarUrl, email }: { avatarUrl?: string; email?: string }) {\r\n  const router = useRouter();\r\n  const [open, setOpen] = useState(false);\r\n  const [confirmOpen, setConfirmOpen] = useState(false);\r\n  const [loggingOut, setLoggingOut] = useState(false);\r\n  const menuRef = useRef<HTMLDivElement | null>(null);\r\n\r\n  // close on outside click\r\n  useEffect(() => {\r\n    function onDocClick(e: MouseEvent) {\r\n      if (!menuRef.current) return;\r\n      if (!(e.target instanceof Node)) return;\r\n      if (!menuRef.current.contains(e.target)) setOpen(false);\r\n    }\r\n    document.addEventListener(\"mousedown\", onDocClick);\r\n    return () => document.removeEventListener(\"mousedown\", onDocClick);\r\n  }, []);\r\n\r\n  // keyboard support\r\n  useEffect(() => {\r\n    function onKey(e: KeyboardEvent) {\r\n      if (e.key === \"Escape\") setOpen(false);\r\n    }\r\n    if (open) window.addEventListener(\"keydown\", onKey);\r\n    return () => window.removeEventListener(\"keydown\", onKey);\r\n  }, [open]);\r\n\r\n  async function handleLogout() {\r\n    try {\r\n      setLoggingOut(true);\r\n      const res = await fetch(\"/api/auth/logout\", { method: \"POST\" });\r\n      // ignore body; route clears cookie\r\n      setConfirmOpen(false);\r\n      setOpen(false);\r\n      // redirect to login page\r\n      router.replace(\"/auth/login\");\r\n    } catch (err) {\r\n      console.error(\"Logout failed\", err);\r\n      setLoggingOut(false);\r\n      setConfirmOpen(false);\r\n    }\r\n  }\r\n\r\n  return (\r\n    <div className=\"relative\" ref={menuRef}>\r\n      <button\r\n        aria-haspopup=\"menu\"\r\n        aria-expanded={open}\r\n        onClick={() => setOpen((v) => !v)}\r\n        className=\"w-10 h-10 rounded-full bg-slate-100 flex items-center justify-center shadow-sm hover:opacity-95\"\r\n        title=\"Account menu\"\r\n      >\r\n        {avatarUrl ? (\r\n          <img src={avatarUrl} alt=\"avatar\" className=\"w-10 h-10 rounded-full object-cover\" />\r\n        ) : (\r\n          <span className=\"text-sm font-medium text-slate-700\">{(email || \"U\").charAt(0).toUpperCase()}</span>\r\n        )}\r\n      </button>\r\n\r\n      {open && (\r\n        <div\r\n          role=\"menu\"\r\n          aria-label=\"Profile\"\r\n          className=\"absolute right-0 mt-2 w-48 bg-white rounded-xl shadow-lg border py-2 z-20\"\r\n        >\r\n          <button\r\n            role=\"menuitem\"\r\n            onClick={() => {\r\n              setOpen(false);\r\n              router.push(\"/profile\");\r\n            }}\r\n            className=\"w-full text-left px-3 py-2 hover:bg-slate-50 text-sm text-slate-700\"\r\n          >\r\n            View profile\r\n          </button>\r\n\r\n          <button\r\n            role=\"menuitem\"\r\n            onClick={() => {\r\n              setConfirmOpen(true);\r\n            }}\r\n            className=\"w-full text-left px-3 py-2 hover:bg-slate-50 text-sm text-slate-700\"\r\n          >\r\n            Logout\r\n          </button>\r\n        </div>\r\n      )}\r\n\r\n      <ConfirmModal\r\n        open={confirmOpen}\r\n        title=\"Log out?\"\r\n        message=\"Do you want to logout?\"\r\n        confirmLabel={loggingOut ? \"Logging out...\" : \"Yes, log out\"}\r\n        cancelLabel=\"Cancel\"\r\n        onCancel={() => setConfirmOpen(false)}\r\n        onConfirm={async () => {\r\n          await handleLogout();\r\n        }}\r\n      />\r\n    </div>\r\n  );\r\n}\r\n"],"names":["c","_c","React","useEffect","useRef","useState","useRouter","ConfirmModal","ProfileMenu","t0","$","$i","Symbol","for","avatarUrl","email","router","open","setOpen","confirmOpen","setConfirmOpen","loggingOut","setLoggingOut","menuRef","t1","t2","ProfileMenu[useEffect()]","onDocClick","e","current","target","Node","contains","document","addEventListener","removeEventListener","t3","t4","onKey","e_0","key","window","t5","handleLogout","fetch","method","replace","t6","err","console","error","ProfileMenu[<button>.onClick]","_ProfileMenuButtonOnClickSetOpen","t7","charAt","toUpperCase","t8","t9","push","t10","t11","ProfileMenu[<ConfirmModal>.onCancel]","t12","ProfileMenu[<ConfirmModal>.onConfirm]","t13","t14","v"],"mappings":"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","ignoreList":[],"debugId":null}},
    {"offset": {"line": 572, "column": 0}, "map": {"version":3,"sources":["E:/Attackcapital/SignalHub/frontend/src/app/welcome/page.tsx"],"sourcesContent":["\"use client\";\r\n\r\nimport React, { useEffect, useMemo, useRef, useState } from \"react\";\r\nimport Link from \"next/link\";\r\nimport { useRouter } from \"next/navigation\";\r\nimport ProfileMenu from \"@/components/profile/ProfileMenu\";\r\nimport * as Y from \"yjs\";\r\nimport { WebsocketProvider } from \"y-websocket\";\r\n\r\n/**\r\n * Enhanced Welcome page\r\n * - Keeps all existing API calls / behavior unchanged\r\n * - Adds a functional Integrations modal (fetch & buy Twilio numbers)\r\n * - Adds a full Inbox panel with search & filters (name, unread, scheduled, drafts)\r\n * - Inbox can open as a full panel or be minimized to a floating messenger bubble (like Facebook Messenger)\r\n *\r\n * Notes:\r\n * - This is a single file client component intended to replace your existing page.tsx\r\n * - All server interactions use the same endpoints present in your original file\r\n */\r\n\r\n/* ----------------------------- types ---------------------------- */\r\n\r\ntype Role = \"VIEWER\" | \"EDITOR\" | \"ADMIN\" | string;\r\n\r\ntype User = {\r\n  id: string;\r\n  email?: string;\r\n  name?: string;\r\n  role?: Role;\r\n};\r\n\r\ntype ThreadPreviewItem = {\r\n  id: string;\r\n  contactId?: string;\r\n  contactName?: string;\r\n  contactPhone?: string;\r\n  channels?: string[];\r\n  snippet?: string;\r\n  lastAt?: string; // ISO\r\n  unreadCount?: number;\r\n  status?: \"inbox\" | \"unread\" | \"scheduled\" | \"archived\" | \"draft\" | string;\r\n  scheduled?: boolean;\r\n  isDraft?: boolean;\r\n};\r\n\r\ntype ProviderNumber = {\r\n  id: string;\r\n  phone: string;\r\n  provider?: string;\r\n  capabilities?: Record<string, boolean>;\r\n  purchased?: boolean;\r\n};\r\n\r\ntype ContactItem = {\r\n  id: string;\r\n  name?: string | null;\r\n  email?: string | null;\r\n  emailVerified?: boolean;\r\n  phone?: string | null;\r\n  phoneVerified?: boolean;\r\n};\r\n\r\ntype AnalyticsSummary = {\r\n  messages7d?: number;\r\n  avgResponseMins?: number;\r\n  openRatePct?: number;\r\n  sparkline?: number[];\r\n};\r\n\r\n/* ----------------------------- helpers ---------------------------- */\r\n\r\nfunction formatShortDate(iso?: string) {\r\n  if (!iso) return \"—\";\r\n  try {\r\n    const d = new Date(iso);\r\n    return d.toLocaleString();\r\n  } catch {\r\n    return iso;\r\n  }\r\n}\r\n\r\n/* ----------------------------- Main Page ---------------------------- */\r\n\r\nexport default function WelcomePage() {\r\n  const router = useRouter();\r\n  const [user, setUser] = useState<User | null>(null);\r\n  const [loading, setLoading] = useState(true);\r\n\r\n  const [analytics, setAnalytics] = useState<AnalyticsSummary | null>(null);\r\n  const [threads, setThreads] = useState<ThreadPreviewItem[]>([]);\r\n  const [numbers, setNumbers] = useState<ProviderNumber[]>([]);\r\n  const [contacts, setContacts] = useState<ContactItem[]>([]);\r\n\r\n  const [composerOpen, setComposerOpen] = useState(false);\r\n  const [composerContext, setComposerContext] = useState<{ threadId?: string; contactId?: string } | null>(null);\r\n  const [contactModal, setContactModal] = useState<{ contactId: string } | null>(null);\r\n  const [buying, setBuying] = useState<string | null>(null);\r\n\r\n  const [presence, setPresence] = useState<Record<string, { name?: string; idle?: boolean }>>({});\r\n\r\n  const wsRef = useRef<WebSocket | null>(null);\r\n\r\n  // NEW: UI states for integrations + inbox widget\r\n  const [integrationsOpen, setIntegrationsOpen] = useState(false);\r\n\r\n  // Inbox panel (full) visibility + minimization\r\n  const [inboxOpen, setInboxOpen] = useState(false);\r\n  const [inboxMinimized, setInboxMinimized] = useState(false);\r\n\r\n  const role = (user?.role ?? \"VIEWER\").toString().toUpperCase();\r\n  const isAdmin = role === \"ADMIN\";\r\n  const isEditor = role === \"EDITOR\" || isAdmin;\r\n\r\n  useEffect(() => {\r\n    let mounted = true;\r\n    const controller = new AbortController();\r\n    const signal = controller.signal;\r\n\r\n    async function loadAll() {\r\n      try {\r\n        setLoading(true);\r\n        const [meRes, analyticsRes, threadsRes, numbersRes] = await Promise.all([\r\n          fetch(`/api/me`, { signal }),\r\n          fetch(`/api/analytics/summary`, { signal }),\r\n          fetch(`/api/threads?limit=200`, { signal }),\r\n          fetch(`/api/twilio/numbers`, { signal }),\r\n        ]);\r\n\r\n        if (!mounted) return;\r\n\r\n        if (meRes.ok) {\r\n          const j = await meRes.json().catch(() => null);\r\n          setUser(j?.user ?? null);\r\n        } else {\r\n          setUser(null);\r\n        }\r\n\r\n        if (analyticsRes.ok) {\r\n          const j = await analyticsRes.json().catch(() => null);\r\n          setAnalytics({\r\n            messages7d: j?.messages7d ?? 0,\r\n            avgResponseMins: j?.avgResponseMins ?? 0,\r\n            openRatePct: j?.openRatePct ?? 0,\r\n            sparkline: Array.isArray(j?.sparkline) ? j.sparkline : [1, 2, 3, 2, 4],\r\n          });\r\n        } else {\r\n          setAnalytics(null);\r\n        }\r\n\r\n        if (threadsRes.ok) {\r\n          const j = await threadsRes.json().catch(() => null);\r\n          setThreads(Array.isArray(j?.threads) ? j.threads : []);\r\n        } else {\r\n          setThreads([]);\r\n        }\r\n\r\n        if (numbersRes.ok) {\r\n          const j = await numbersRes.json().catch(() => null);\r\n          setNumbers(Array.isArray(j?.numbers) ? j.numbers : []);\r\n        } else {\r\n          setNumbers([]);\r\n        }\r\n\r\n        // best-effort load contacts\r\n        await fetchContacts(signal);\r\n      } catch (e) {\r\n        if ((e as any)?.name !== \"AbortError\") console.error(\"loadAll error\", e);\r\n      } finally {\r\n        if (mounted) setLoading(false);\r\n      }\r\n    }\r\n\r\n    loadAll();\r\n\r\n    return () => {\r\n      mounted = false;\r\n      controller.abort();\r\n    };\r\n    // eslint-disable-next-line react-hooks/exhaustive-deps\r\n  }, []);\r\n\r\n  /* ----------------------------- fetchContacts ---------------------------- */\r\n  async function fetchContacts(signal?: AbortSignal | null) {\r\n    function normalizeRaw(raw: any): ContactItem | null {\r\n      if (!raw) return null;\r\n      const id = raw.id ?? raw.userId ?? raw.contactId ?? raw._id ?? null;\r\n      const name = raw.name ?? raw.displayName ?? raw.fullName ?? raw.email ?? null;\r\n\r\n      let email: string | null = null;\r\n      let emailVerified = false;\r\n      if (raw.email) {\r\n        email = raw.email;\r\n        emailVerified = Boolean(raw.emailVerified ?? raw.email_verified ?? false);\r\n      } else if (Array.isArray(raw.emails) && raw.emails.length) {\r\n        const p = raw.emails[0];\r\n        email = p?.value ?? p?.address ?? null;\r\n        emailVerified = Boolean(p?.verified ?? false);\r\n      } else if (raw.profile?.email) {\r\n        email = raw.profile.email;\r\n        emailVerified = Boolean(raw.profile.emailVerified ?? false);\r\n      }\r\n\r\n      let phone: string | null = null;\r\n      let phoneVerified = false;\r\n      if (raw.phone) {\r\n        phone = raw.phone;\r\n        phoneVerified = Boolean(raw.phoneVerified ?? false);\r\n      } else if (raw.phoneNumber) {\r\n        phone = raw.phoneNumber;\r\n      } else if (Array.isArray(raw.phones) && raw.phones.length) {\r\n        phone = raw.phones[0]?.value ?? raw.phones[0]?.number ?? null;\r\n        phoneVerified = Boolean(raw.phones[0]?.verified ?? false);\r\n      }\r\n\r\n      if (!id && !email && !phone) return null;\r\n      return {\r\n        id: id ?? email ?? phone ?? String(Math.random()).slice(2, 8),\r\n        name,\r\n        email,\r\n        emailVerified,\r\n        phone,\r\n        phoneVerified,\r\n      };\r\n    }\r\n\r\n    async function tryFetch(url: string) {\r\n      try {\r\n        const opts = signal ? { signal } : undefined;\r\n        const r = await fetch(url, opts as any);\r\n        if (!r.ok) return null;\r\n        const j = await r.json().catch(() => null);\r\n        return j;\r\n      } catch (e) {\r\n        return null;\r\n      }\r\n    }\r\n\r\n    const endpoints = [\"/api/contacts?limit=1000\", \"/api/users?limit=1000\", \"/api/me\", \"/api/admin/users?limit=1000\"];\r\n    const aggregated: ContactItem[] = [];\r\n    for (const ep of endpoints) {\r\n      const d = await tryFetch(ep);\r\n      if (!d) continue;\r\n      if (d.user) {\r\n        const n = normalizeRaw(d.user);\r\n        if (n) aggregated.push(n);\r\n      } else if (Array.isArray(d)) {\r\n        for (const item of d) {\r\n          const n = normalizeRaw(item);\r\n          if (n) aggregated.push(n);\r\n        }\r\n      } else if (Array.isArray(d.contacts)) {\r\n        for (const item of d.contacts) {\r\n          const n = normalizeRaw(item);\r\n          if (n) aggregated.push(n);\r\n        }\r\n      } else if (Array.isArray(d.users)) {\r\n        for (const item of d.users) {\r\n          const n = normalizeRaw(item);\r\n          if (n) aggregated.push(n);\r\n        }\r\n      } else {\r\n        const n = normalizeRaw(d);\r\n        if (n) aggregated.push(n);\r\n      }\r\n      if (aggregated.length > 0) break;\r\n    }\r\n\r\n    // ensure me included\r\n    try {\r\n      const me = await tryFetch(\"/api/me\");\r\n      if (me?.user) {\r\n        const n = normalizeRaw(me.user);\r\n        if (n) aggregated.push(n);\r\n      }\r\n    } catch {}\r\n\r\n    const map = new Map<string, ContactItem>();\r\n    for (const a of aggregated) {\r\n      const key = a.id ?? a.email ?? a.phone ?? JSON.stringify(a);\r\n      if (!map.has(key)) map.set(key, a);\r\n      else {\r\n        const ex = map.get(key)!;\r\n        map.set(key, { ...ex, ...a });\r\n      }\r\n    }\r\n    const result = Array.from(map.values());\r\n    setContacts((prev) => {\r\n      // merge unique\r\n      const merged = new Map<string, ContactItem>();\r\n      prev.forEach((c) => merged.set(c.id, c));\r\n      result.forEach((c) => merged.set(c.id, { ...merged.get(c.id), ...c }));\r\n      return Array.from(merged.values());\r\n    });\r\n  }\r\n\r\n  /* ----------------------------- Realtime WS ---------------------------- */\r\n  useEffect(() => {\r\n    if (!user) return;\r\n    let mounted = true;\r\n    try {\r\n      const ws = new WebSocket((typeof window !== \"undefined\" ? window.location.origin : \"\") + \"/api/ws\");\r\n      wsRef.current = ws;\r\n      ws.onopen = () => {\r\n        ws.send(JSON.stringify({ type: \"hello\", userId: user.id, name: user.name }));\r\n      };\r\n      ws.onmessage = (ev) => {\r\n        try {\r\n          const msg = JSON.parse(ev.data);\r\n          if (msg.type === \"presence\") {\r\n            setPresence((p) => ({ ...p, [msg.userId]: { name: msg.name, idle: msg.idle } }));\r\n          } else if (msg.type === \"presence:leave\") {\r\n            setPresence((p) => {\r\n              const copy = { ...p };\r\n              delete copy[msg.userId];\r\n              return copy;\r\n            });\r\n          } else if (msg.type === \"thread:new\") {\r\n            setThreads((t) => [msg.thread as ThreadPreviewItem, ...t]);\r\n          } else if (msg.type === \"thread:update\") {\r\n            setThreads((t) => t.map((x) => (x.id === msg.thread.id ? msg.thread : x)));\r\n          } else if (msg.type === \"message:new\") {\r\n            // new incoming message — ensure it's in threads and open inbox if desired\r\n            setThreads((t) => {\r\n              const exists = t.find((x) => x.id === msg.thread?.id || x.id === msg.threadId);\r\n              if (exists) {\r\n                return t.map((x) => (x.id === (msg.thread?.id ?? msg.threadId) ? { ...(msg.thread ?? x), unreadCount: (msg.incrementUnread ? ((x.unreadCount ?? 0) + 1) : (msg.thread?.unreadCount ?? x.unreadCount)) } : x));\r\n              } else if (msg.thread) {\r\n                return [msg.thread as ThreadPreviewItem, ...t];\r\n              } else {\r\n                // fallback: create a small thread item\r\n                const small: ThreadPreviewItem = {\r\n                  id: msg.threadId ?? `t-${Math.random().toString(36).slice(2, 8)}`,\r\n                  contactId: msg.from,\r\n                  contactName: msg.fromName ?? msg.from,\r\n                  contactPhone: msg.from,\r\n                  snippet: msg.text ?? \"\",\r\n                  lastAt: new Date().toISOString(),\r\n                  unreadCount: 1,\r\n                  status: \"inbox\",\r\n                };\r\n                return [small, ...t];\r\n              }\r\n            });\r\n          }\r\n        } catch (e) {\r\n          console.warn(\"ws parse error\", e);\r\n        }\r\n      };\r\n      ws.onclose = () => {\r\n        wsRef.current = null;\r\n      };\r\n      return () => {\r\n        try {\r\n          ws.close();\r\n        } catch {}\r\n      };\r\n    } catch (e) {\r\n      if (!mounted) return;\r\n      console.warn(\"Realtime not available\", e);\r\n    }\r\n  }, [user]);\r\n\r\n  /* ----------------------------- Actions ---------------------------- */\r\n\r\n  async function handleBuyNumber(id: string) {\r\n    setBuying(id);\r\n    try {\r\n      const res = await fetch(`/api/twilio/buy`, {\r\n        method: \"POST\",\r\n        headers: { \"Content-Type\": \"application/json\" },\r\n        body: JSON.stringify({ id }),\r\n      });\r\n      if (!res.ok) throw new Error(\"failed to buy\");\r\n      // refresh\r\n      const ref = await fetch(`/api/twilio/numbers`);\r\n      if (ref.ok) {\r\n        const j = await ref.json();\r\n        setNumbers(Array.isArray(j?.numbers) ? j.numbers : []);\r\n      }\r\n    } catch (e) {\r\n      console.error(e);\r\n      alert(\"Failed to buy number (check sandbox or logs).\");\r\n    } finally {\r\n      setBuying(null);\r\n    }\r\n  }\r\n\r\n  function openComposer(ctx?: { threadId?: string; contactId?: string }) {\r\n    if (!isEditor) return;\r\n    setComposerContext(ctx ?? null);\r\n    setComposerOpen(true);\r\n  }\r\n  function closeComposer() {\r\n    setComposerOpen(false);\r\n    setComposerContext(null);\r\n  }\r\n\r\n  /* ----------------------------- sendMessage (optimistic) ---------------------------- */\r\n\r\n  async function sendMessage(payload: {\r\n    to: string;\r\n    channel: string;\r\n    body: string;\r\n    scheduleAt?: string;\r\n    threadId?: string;\r\n    contactId?: string;\r\n  }) {\r\n    if (!isEditor) throw new Error(\"not authorized\");\r\n    const isScheduled = !!payload.scheduleAt;\r\n    const optimistic: ThreadPreviewItem = {\r\n      id: isScheduled ? \"sched-\" + Math.random().toString(36).slice(2, 9) : \"tmp-\" + Math.random().toString(36).slice(2, 9),\r\n      contactId: payload.contactId,\r\n      contactName: payload.to,\r\n      contactPhone: payload.to,\r\n      channels: [payload.channel],\r\n      snippet: payload.body,\r\n      lastAt: new Date().toISOString(),\r\n      scheduled: isScheduled,\r\n      status: isScheduled ? \"scheduled\" : \"inbox\",\r\n    };\r\n    setThreads((t) => [optimistic, ...t]);\r\n\r\n    try {\r\n      let res: Response;\r\n      if (isScheduled) {\r\n        res = await fetch(\"/api/messages/schedule\", {\r\n          method: \"POST\",\r\n          headers: { \"Content-Type\": \"application/json\" },\r\n          body: JSON.stringify({\r\n            to: payload.to,\r\n            channel: payload.channel,\r\n            body: payload.body,\r\n            sendAt: payload.scheduleAt,\r\n            threadId: payload.threadId,\r\n            contactId: payload.contactId,\r\n            metadata: { to: payload.to },\r\n          }),\r\n        });\r\n      } else {\r\n        res = await fetch(\"/api/messages/send\", {\r\n          method: \"POST\",\r\n          headers: { \"Content-Type\": \"application/json\" },\r\n          body: JSON.stringify({\r\n            to: payload.to,\r\n            channel: payload.channel,\r\n            body: payload.body,\r\n            threadId: payload.threadId,\r\n            contactId: payload.contactId,\r\n            metadata: { to: payload.to },\r\n          }),\r\n        });\r\n      }\r\n\r\n      const text = await res.text().catch(() => \"\");\r\n      let parsed: any = null;\r\n      try {\r\n        parsed = text ? JSON.parse(text) : null;\r\n      } catch {\r\n        parsed = text;\r\n      }\r\n\r\n      if (!res.ok) {\r\n        setThreads((t) => t.filter((x) => !x.id.startsWith(\"tmp-\") && !x.id.startsWith(\"sched-\")));\r\n        const serverMsg = parsed?.error ?? parsed?.message ?? (typeof parsed === \"string\" ? parsed : `HTTP ${res.status}`);\r\n        alert(`Send failed: ${serverMsg}`);\r\n        throw new Error(`send failed: ${serverMsg}`);\r\n      }\r\n\r\n      const j = parsed ?? {};\r\n      if (j.thread && j.thread.id) {\r\n        setThreads((t) => [j.thread as ThreadPreviewItem, ...t.filter((x) => !x.id.startsWith(\"tmp-\") && !x.id.startsWith(\"sched-\"))]);\r\n      } else {\r\n        setThreads((t) => t.filter((x) => !x.id.startsWith(\"tmp-\")));\r\n      }\r\n\r\n      return j;\r\n    } catch (err) {\r\n      setThreads((t) => t.filter((x) => !x.id.startsWith(\"tmp-\") && !x.id.startsWith(\"sched-\")));\r\n      console.error(err);\r\n      throw err;\r\n    }\r\n  }\r\n\r\n  /* ----------------------------- Kanban columns (unchanged) ---------------------------- */\r\n\r\n  const columns = useMemo(\r\n    () => [\r\n      { key: \"unread\", title: \"Unread\", filter: (t: ThreadPreviewItem) => !!t.unreadCount && (t.unreadCount ?? 0) > 0 },\r\n      { key: \"inbox\", title: \"Inbox\", filter: (t: ThreadPreviewItem) => !t.scheduled && !(t.unreadCount && t.unreadCount > 0) && (!t.status || t.status === \"inbox\") },\r\n      { key: \"scheduled\", title: \"Scheduled\", filter: (t: ThreadPreviewItem) => !!t.scheduled || t.status === \"scheduled\" },\r\n      { key: \"archived\", title: \"Archived\", filter: (t: ThreadPreviewItem) => t.status === \"archived\" },\r\n    ],\r\n    []\r\n  );\r\n\r\n  function getColumnThreads(colKey: string) {\r\n    const col = columns.find((c) => c.key === colKey)!;\r\n    return threads.filter((t) => {\r\n      try {\r\n        return (col.filter as any)(t);\r\n      } catch {\r\n        return false;\r\n      }\r\n    });\r\n  }\r\n\r\n  async function handleDropThread(threadId: string, destColumnKey: string) {\r\n    setThreads((prev) =>\r\n      prev.map((t) => {\r\n        if (t.id === threadId) {\r\n          const newStatus = destColumnKey === \"unread\" ? \"inbox\" : destColumnKey;\r\n          return { ...t, status: newStatus, scheduled: destColumnKey === \"scheduled\" ? true : t.scheduled };\r\n        }\r\n        return t;\r\n      })\r\n    );\r\n    try {\r\n      await fetch(`/api/threads/${threadId}`, {\r\n        method: \"PATCH\",\r\n        headers: { \"Content-Type\": \"application/json\" },\r\n        body: JSON.stringify({ status: destColumnKey }),\r\n      });\r\n    } catch (e) {\r\n      console.error(\"thread patch failed\", e);\r\n    }\r\n  }\r\n\r\n  /* ----------------------------- UI ---------------------------- */\r\n\r\n  // compute unread count for bubble\r\n  const totalUnread = threads.reduce((s, t) => s + (t.unreadCount ?? 0), 0);\r\n\r\n  return (\r\n    <main className=\"min-h-screen bg-gradient-to-b from-slate-50 via-white to-slate-50 text-slate-900\">\r\n      <div className=\"max-w-7xl mx-auto px-6 py-8\">\r\n        <header className=\"flex items-center justify-between mb-6\">\r\n          <div className=\"flex items-center gap-4\">\r\n            <div className=\"h-12 w-12 rounded-2xl bg-gradient-to-br from-indigo-600 to-cyan-500 flex items-center justify-center shadow-xl\">\r\n              <svg width=\"28\" height=\"28\" viewBox=\"0 0 24 24\" fill=\"none\" aria-hidden>\r\n                <path d=\"M3 12h18\" stroke=\"white\" strokeWidth=\"2\" strokeLinecap=\"round\" />\r\n                <path d=\"M7 6v12\" stroke=\"white\" strokeWidth=\"2\" strokeLinecap=\"round\" />\r\n              </svg>\r\n            </div>\r\n            <div>\r\n              <div className=\"text-lg font-bold\">SignalHub</div>\r\n              <div className=\"text-xs text-slate-500\">Unified Inbox • Multi-channel Outreach</div>\r\n            </div>\r\n          </div>\r\n\r\n          <div className=\"flex items-center gap-4\">\r\n            <div className=\"hidden sm:flex items-center gap-3 rounded-full px-3 py-1 bg-slate-100 text-sm\">\r\n              <span className=\"text-xs text-slate-500\">Role</span>\r\n              <strong className=\"uppercase\">{role}</strong>\r\n            </div>\r\n\r\n            <div className=\"hidden md:flex items-center gap-3 text-xs text-slate-600\">\r\n              {Object.keys(presence).length === 0 ? (\r\n                <span className=\"text-xs text-slate-400\">No one online</span>\r\n              ) : (\r\n                <div className=\"flex items-center gap-2\">\r\n                  {Object.entries(presence).slice(0, 4).map(([id, p]) => (\r\n                    <div key={id} className=\"flex items-center gap-2\">\r\n                      <span className={`w-2 h-2 rounded-full ${p.idle ? \"bg-yellow-400\" : \"bg-green-400\"}`} />\r\n                      <span className=\"truncate max-w-[8rem]\">{p.name ?? id}</span>\r\n                    </div>\r\n                  ))}\r\n                </div>\r\n              )}\r\n            </div>\r\n\r\n            {/* Integrations button - opens functional modal */}\r\n            <button onClick={() => setIntegrationsOpen(true)} className=\"px-3 py-2 rounded-lg border bg-white hover:bg-slate-50\">Integrations</button>\r\n\r\n            {/* Inbox button opens inbox panel */}\r\n            <button onClick={() => { setInboxOpen(true); setInboxMinimized(false); }} className=\"px-3 py-2 rounded-lg bg-gradient-to-r from-indigo-600 to-cyan-500 text-white shadow\">\r\n              Inbox {totalUnread > 0 && <span className=\"ml-2 inline-block bg-amber-400 text-black text-xs px-2 py-0.5 rounded-full\">{totalUnread}</span>}\r\n            </button>\r\n\r\n            <ProfileMenu email={user?.email} avatarUrl={undefined} />\r\n          </div>\r\n        </header>\r\n\r\n        {/* Hero + CTA */}\r\n        <section className=\"grid grid-cols-1 lg:grid-cols-3 gap-6 items-start mb-8\">\r\n          <div className=\"lg:col-span-2 bg-white/60 backdrop-blur rounded-3xl p-6 shadow-lg border border-slate-100\">\r\n            <div className=\"flex items-start gap-6\">\r\n              <div className=\"flex-shrink-0\">\r\n                <div className=\"h-14 w-14 rounded-xl bg-gradient-to-br from-indigo-600 to-cyan-500 flex items-center justify-center shadow-lg\">\r\n                  <svg width=\"28\" height=\"28\" viewBox=\"0 0 24 24\" fill=\"none\" aria-hidden>\r\n                    <path d=\"M3 12h18\" stroke=\"white\" strokeWidth=\"2\" strokeLinecap=\"round\" />\r\n                    <path d=\"M7 6v12\" stroke=\"white\" strokeWidth=\"2\" strokeLinecap=\"round\" />\r\n                  </svg>\r\n                </div>\r\n              </div>\r\n\r\n              <div className=\"flex-1\">\r\n                <h1 className=\"text-3xl sm:text-4xl font-extrabold\">Unified Inbox — Kanban for conversations</h1>\r\n                <p className=\"mt-3 text-slate-600 max-w-2xl\">\r\n                  Streamline SMS, WhatsApp and Email into one playbook. Real-time presence, collaborative notes (Yjs), scheduling,\r\n                  and analytics — all under role-based controls.\r\n                </p>\r\n\r\n                <div className=\"mt-5 flex flex-wrap gap-3\">\r\n                  <button onClick={() => (isAdmin ? router.push(\"/admin\") : (setInboxOpen(true), setInboxMinimized(false)))} className=\"inline-flex items-center gap-3 px-4 py-2 rounded-lg bg-gradient-to-r from-indigo-600 to-cyan-500 text-white shadow hover:scale-[1.01]\">\r\n                    {isAdmin ? \"Open Admin\" : \"Open Inbox\"}\r\n                    <svg className=\"w-4 h-4\" viewBox=\"0 0 24 24\" fill=\"none\" aria-hidden>\r\n                      <path d=\"M5 12h14\" stroke=\"currentColor\" strokeWidth=\"2\" strokeLinecap=\"round\" />\r\n                      <path d=\"M12 5l7 7-7 7\" stroke=\"currentColor\" strokeWidth=\"2\" strokeLinecap=\"round\" />\r\n                    </svg>\r\n                  </button>\r\n\r\n                  <button onClick={() => setIntegrationsOpen(true)} className=\"px-4 py-2 rounded-lg border text-slate-700 hover:bg-slate-50\">Integrations</button>\r\n\r\n                  {isEditor && (\r\n                    <button onClick={() => openComposer()} className=\"px-4 py-2 rounded-lg border bg-white text-slate-700 hover:bg-slate-50\">Quick Compose</button>\r\n                  )}\r\n                </div>\r\n\r\n                <div className=\"mt-6 grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-4 gap-3\">\r\n                  <MiniCard label=\"Unified Threads\" desc=\"Conversations aggregated per contact across channels.\" />\r\n                  <MiniCard label=\"Schedule\" desc=\"Schedule outbound messages and preview per-channel.\" />\r\n                  <MiniCard label=\"Team Collab\" desc=\"Real-time notes with cursors and mentions (Yjs).\" />\r\n                  <MiniCard label=\"Analytics\" desc=\"Response time, channel volume and exportable reports.\" />\r\n                </div>\r\n              </div>\r\n            </div>\r\n\r\n            {/* Twilio sandbox & numbers */}\r\n            <div className=\"mt-6 grid grid-cols-1 md:grid-cols-2 gap-4\">\r\n              <div className=\"rounded-xl border border-rose-50 p-4 bg-rose-50/20\">\r\n                <div className=\"flex items-center justify-between\">\r\n                  <div>\r\n                    <div className=\"text-sm font-semibold\">Twilio Sandbox</div>\r\n                    <div className=\"text-xs text-slate-600\">Trial — simulated numbers unless purchased</div>\r\n                  </div>\r\n                  <div className=\"text-xs text-slate-500\">Sandbox</div>\r\n                </div>\r\n\r\n                <div className=\"mt-3\">\r\n                  <div className=\"text-xs text-slate-700 mb-2\">Available numbers</div>\r\n                  <div className=\"space-y-2\">\r\n                    {numbers.length === 0 ? (\r\n                      <div className=\"text-xs text-slate-500\">No sandbox numbers found.</div>\r\n                    ) : (\r\n                      numbers.slice(0, 6).map((n) => (\r\n                        <div key={n.id} className=\"flex items-center justify-between bg-white rounded-lg p-2 border\">\r\n                          <div>\r\n                            <div className=\"font-medium\">{n.phone}</div>\r\n                            <div className=\"text-xs text-slate-500\">{n.provider} • {n.capabilities ? Object.keys(n.capabilities).filter((k) => n.capabilities?.[k]).join(\", \") : \"—\"}</div>\r\n                          </div>\r\n                          <div>\r\n                            {n.purchased ? (\r\n                              <span className=\"text-xs text-green-600\">Purchased</span>\r\n                            ) : (\r\n                              <button disabled={!!buying} onClick={() => handleBuyNumber(n.id)} className=\"px-3 py-1 rounded bg-indigo-600 text-white text-xs\">\r\n                                {buying === n.id ? \"Buying…\" : \"Buy\"}\r\n                              </button>\r\n                            )}\r\n                          </div>\r\n                        </div>\r\n                      ))\r\n                    )}\r\n                  </div>\r\n                </div>\r\n              </div>\r\n\r\n              <IntegrationsSummary numbers={numbers} />\r\n            </div>\r\n          </div>\r\n\r\n          {/* right column: analytics + quick actions */}\r\n          <aside className=\"space-y-4\">\r\n            <AnalyticsPanel analytics={analytics} loading={loading} />\r\n            <div className=\"bg-white rounded-2xl p-4 shadow-sm border border-slate-100\">\r\n              <h4 className=\"text-sm font-semibold text-slate-700 mb-2\">Quick actions</h4>\r\n              <div className=\"flex flex-col gap-2\">\r\n                <button disabled={!isEditor} onClick={() => openComposer()} className={`text-left px-3 py-2 rounded-lg ${isEditor ? \"bg-blue-50\" : \"bg-slate-50 text-slate-400\"}`}>Compose</button>\r\n                <button disabled={!isAdmin} onClick={() => router.push(\"/admin\")} className={`text-left px-3 py-2 rounded-lg ${isAdmin ? \"bg-indigo-50\" : \"bg-slate-50 text-slate-400\"}`}>Manage team</button>\r\n                <Link href=\"/analytics\" className=\"text-left px-3 py-2 rounded-lg bg-slate-50\">View analytics</Link>\r\n                <button onClick={() => setIntegrationsOpen(true)} className=\"text-left px-3 py-2 rounded-lg bg-slate-50\">Integrations</button>\r\n              </div>\r\n            </div>\r\n          </aside>\r\n        </section>\r\n\r\n        {/* Kanban + thread preview */}\r\n        <section className=\"grid grid-cols-1 lg:grid-cols-3 gap-6\">\r\n          <div className=\"lg:col-span-2 bg-white rounded-3xl p-6 shadow border border-slate-100\">\r\n            <div className=\"flex items-center justify-between mb-4\">\r\n              <h2 className=\"text-lg font-semibold\">Unified Inbox</h2>\r\n              <div className=\"flex items-center gap-3\">\r\n                <SearchBar onSearch={(q) => { /* optional hook for remote search */ }} />\r\n                <div className=\"text-sm text-slate-500\">Normalized threads • drag to move</div>\r\n              </div>\r\n            </div>\r\n\r\n            <div className=\"rounded-xl overflow-hidden border border-slate-100 p-4\">\r\n              <div className=\"grid grid-cols-1 sm:grid-cols-4 gap-4\">\r\n                {columns.map((col) => (\r\n                  <div key={col.key} className=\"bg-slate-50 rounded-lg p-3\">\r\n                    <div className=\"flex items-center justify-between mb-3\">\r\n                      <div>\r\n                        <div className=\"text-sm font-semibold\">{col.title}</div>\r\n                        <div className=\"text-xs text-slate-500\">{getColumnThreads(col.key).length} threads</div>\r\n                      </div>\r\n                      <div className=\"text-xs text-slate-400\">•</div>\r\n                    </div>\r\n\r\n                    <div\r\n                      className=\"space-y-2 min-h-[120px] max-h-[48vh] overflow-auto\"\r\n                      onDragOver={(e) => e.preventDefault()}\r\n                      onDrop={(e) => {\r\n                        const threadId = e.dataTransfer.getData(\"text/threadId\");\r\n                        if (threadId) handleDropThread(threadId, col.key);\r\n                      }}\r\n                    >\r\n                      {getColumnThreads(col.key).map((t) => (\r\n                        <ThreadCard\r\n                          key={t.id}\r\n                          thread={t}\r\n                          onOpenContact={(id) => setContactModal({ contactId: id })}\r\n                          onCompose={(thr) => openComposer({ threadId: thr.id, contactId: thr.contactId })}\r\n                        />\r\n                      ))}\r\n                    </div>\r\n                  </div>\r\n                ))}\r\n              </div>\r\n            </div>\r\n\r\n            <div className=\"mt-6 text-sm text-slate-600\">\r\n              The Kanban groups threads by status: Unread, Inbox, Scheduled, Archived. Use drag & drop to move threads between columns — server patch is attempted for persistence.\r\n            </div>\r\n          </div>\r\n\r\n          <aside className=\"bg-white rounded-3xl p-6 shadow border border-slate-100\">\r\n            <h3 className=\"text-sm font-semibold mb-3\">Getting started</h3>\r\n            <ol className=\"text-sm space-y-3 list-decimal list-inside text-slate-700\">\r\n              <li>Open <button onClick={() => { setInboxOpen(true); setInboxMinimized(false); }} className=\"text-blue-600 underline\">Inbox</button> for full thread view.</li>\r\n              <li>{isEditor ? \"Compose a test message\" : \"Request editor access.\"}</li>\r\n              <li>Verify Twilio under <button onClick={() => setIntegrationsOpen(true)} className=\"text-blue-600 underline\">Settings</button>.</li>\r\n              <li>{isAdmin ? <Link href=\"/admin\" className=\"text-blue-600\">Manage team</Link> : \"Ask an admin to add you.\"}</li>\r\n            </ol>\r\n\r\n            <div className=\"mt-6\">\r\n              <button onClick={() => { setInboxOpen(true); setInboxMinimized(false); }} className=\"block text-center bg-indigo-600 text-white px-4 py-2 rounded-lg\">Open Inbox</button>\r\n            </div>\r\n          </aside>\r\n        </section>\r\n\r\n        <footer className=\"mt-12 text-center text-sm text-slate-500\">\r\n          Built for the Attack Capital assignment — multi-channel outreach, scheduling, team collaboration and analytics.\r\n        </footer>\r\n\r\n        {/* Integrations modal - functional */}\r\n        {integrationsOpen && (\r\n          <IntegrationsModal\r\n            onClose={() => setIntegrationsOpen(false)}\r\n            numbers={numbers}\r\n            onBuy={(id) => handleBuyNumber(id)}\r\n            buying={buying}\r\n            refresh={() => (async () => { const r = await fetch(\"/api/twilio/numbers\"); if (r.ok) { const j = await r.json(); setNumbers(Array.isArray(j?.numbers) ? j.numbers : []); } })()}\r\n          />\r\n        )}\r\n\r\n        {/* Composer modal */}\r\n        {composerOpen && (\r\n          <ComposerModal\r\n            onClose={closeComposer}\r\n            onSend={async (p) => sendMessage(p)}\r\n            context={composerContext}\r\n            contacts={contacts}\r\n            onSent={() => {\r\n              closeComposer();\r\n            }}\r\n          />\r\n        )}\r\n\r\n        {/* Contact modal */}\r\n        {contactModal && (\r\n          <ContactProfileModal contactId={contactModal.contactId} onClose={() => setContactModal(null)} isEditor={isEditor} />\r\n        )}\r\n\r\n        {/* Inbox Panel (full-screen style) */}\r\n        {inboxOpen && (\r\n          <InboxPanel\r\n            threads={threads}\r\n            onClose={() => setInboxOpen(false)}\r\n            onMinimize={() => { setInboxMinimized(true); setInboxOpen(false); }}\r\n            onOpenThread={(threadId) => {\r\n              // open thread viewer (modal)\r\n              setContactModal({ contactId: threadId }); // reuse contact modal or `ThreadView` could be implemented\r\n            }}\r\n            onRefresh={async () => {\r\n              const r = await fetch(\"/api/threads?limit=200\");\r\n              if (r.ok) {\r\n                const j = await r.json();\r\n                setThreads(Array.isArray(j?.threads) ? j.threads : []);\r\n              }\r\n            }}\r\n          />\r\n        )}\r\n\r\n        {/* Minimized messenger bubble */}\r\n        {inboxMinimized && (\r\n          <MessengerBubble\r\n            unread={totalUnread}\r\n            onOpen={() => { setInboxOpen(true); setInboxMinimized(false); }}\r\n            onClose={() => setInboxMinimized(false)}\r\n          />\r\n        )}\r\n      </div>\r\n    </main>\r\n  );\r\n}\r\n\r\n/* ----------------------------- Integrations modal ---------------------------- */\r\n\r\nfunction IntegrationsModal({ onClose, numbers, onBuy, buying, refresh }: { onClose: () => void; numbers: ProviderNumber[]; onBuy: (id: string) => void; buying: string | null; refresh: () => void }) {\r\n  const [query, setQuery] = useState(\"\");\r\n\r\n  return (\r\n    <div className=\"fixed inset-0 z-50 flex items-center justify-center\">\r\n      <div className=\"absolute inset-0 bg-black/40\" onClick={onClose} />\r\n      <div className=\"relative max-w-3xl w-full bg-white rounded-2xl p-6 shadow-lg z-10\">\r\n        <div className=\"flex items-center justify-between\">\r\n          <h3 className=\"text-lg font-semibold\">Integrations — Twilio Numbers</h3>\r\n          <div className=\"flex items-center gap-3\">\r\n            <button onClick={refresh} className=\"px-3 py-1 rounded border text-sm\">Refresh</button>\r\n            <button onClick={onClose} className=\"text-sm text-slate-500\">Close</button>\r\n          </div>\r\n        </div>\r\n\r\n        <div className=\"mt-4\">\r\n          <div className=\"flex items-center gap-3\">\r\n            <input value={query} onChange={(e) => setQuery(e.target.value)} placeholder=\"Filter by country / capability / number\" className=\"rounded border px-3 py-2 flex-1\" />\r\n            <div className=\"text-xs text-slate-500\">Sandbox mode may simulate buys</div>\r\n          </div>\r\n\r\n          <div className=\"mt-4 grid grid-cols-1 gap-3\">\r\n            {numbers.length === 0 ? (\r\n              <div className=\"text-sm text-slate-500\">No available numbers (sandbox or provider). Try refreshing.</div>\r\n            ) : (\r\n              numbers\r\n                .filter((n) => !query || n.phone.includes(query) || (n.provider ?? \"\").toLowerCase().includes(query.toLowerCase()))\r\n                .map((n) => (\r\n                  <div key={n.id} className=\"flex items-center justify-between border rounded p-3 bg-slate-50\">\r\n                    <div>\r\n                      <div className=\"font-medium\">{n.phone}</div>\r\n                      <div className=\"text-xs text-slate-500\">{n.provider ?? \"Twilio\"} • {n.capabilities ? Object.keys(n.capabilities).filter((k) => n.capabilities?.[k]).join(\", \") : \"—\"}</div>\r\n                    </div>\r\n                    <div>\r\n                      {n.purchased ? (\r\n                        <span className=\"text-xs text-green-600\">Purchased</span>\r\n                      ) : (\r\n                        <button disabled={!!buying} onClick={() => onBuy(n.id)} className=\"px-3 py-1 rounded bg-indigo-600 text-white text-xs\">\r\n                          {buying === n.id ? \"Buying…\" : \"Buy now\"}\r\n                        </button>\r\n                      )}\r\n                    </div>\r\n                  </div>\r\n                ))\r\n            )}\r\n          </div>\r\n        </div>\r\n      </div>\r\n    </div>\r\n  );\r\n}\r\n\r\n/* ----------------------------- Inbox Panel (full) ---------------------------- */\r\n\r\nfunction InboxPanel({ threads, onClose, onMinimize, onOpenThread, onRefresh }: { threads: ThreadPreviewItem[]; onClose: () => void; onMinimize: () => void; onOpenThread: (threadId: string) => void; onRefresh: () => void }) {\r\n  const [search, setSearch] = useState(\"\");\r\n  const [filterUnread, setFilterUnread] = useState(false);\r\n  const [filterScheduled, setFilterScheduled] = useState(false);\r\n  const [filterDrafts, setFilterDrafts] = useState(false);\r\n\r\n  // filter by contact name / phone / thread snippet\r\n  const filtered = useMemo(() => {\r\n    const q = search.trim().toLowerCase();\r\n    return threads.filter((t) => {\r\n      if (filterUnread && !(t.unreadCount && t.unreadCount > 0)) return false;\r\n      if (filterScheduled && !t.scheduled && t.status !== \"scheduled\") return false;\r\n      if (filterDrafts && !t.isDraft && t.status !== \"draft\") return false;\r\n      if (!q) return true;\r\n      const hay = `${t.contactName ?? \"\"} ${t.contactPhone ?? \"\"} ${t.snippet ?? \"\"}`.toLowerCase();\r\n      return hay.includes(q);\r\n    });\r\n  }, [threads, search, filterUnread, filterScheduled, filterDrafts]);\r\n\r\n  return (\r\n    <div className=\"fixed inset-0 z-50 flex items-end justify-center md:items-center md:justify-center\">\r\n      <div className=\"absolute inset-0 bg-black/50\" onClick={onClose} />\r\n      <div className=\"relative z-10 bg-white rounded-2xl w-full max-w-5xl h-[80vh] shadow-2xl grid grid-cols-1 md:grid-cols-3 overflow-hidden\">\r\n        <div className=\"col-span-1 md:col-span-1 border-r p-4 flex flex-col gap-3\">\r\n          <div className=\"flex items-center justify-between\">\r\n            <div>\r\n              <h4 className=\"font-semibold\">Inbox</h4>\r\n              <div className=\"text-xs text-slate-500\">All customer conversations</div>\r\n            </div>\r\n            <div className=\"flex items-center gap-2\">\r\n              <button onClick={onRefresh} className=\"px-2 py-1 rounded bg-slate-100 text-sm\">Refresh</button>\r\n              <button onClick={onMinimize} className=\"px-2 py-1 rounded bg-slate-100 text-sm\">Minimize</button>\r\n              <button onClick={onClose} className=\"px-2 py-1 rounded bg-slate-100 text-sm\">Close</button>\r\n            </div>\r\n          </div>\r\n\r\n          <div className=\"mt-2\">\r\n            <input placeholder=\"Search by name, phone, message...\" value={search} onChange={(e) => setSearch(e.target.value)} className=\"w-full rounded border px-3 py-2\" />\r\n          </div>\r\n\r\n          <div className=\"mt-2 flex flex-wrap gap-2\">\r\n            <label className={`px-2 py-1 rounded text-sm ${filterUnread ? \"bg-indigo-600 text-white\" : \"bg-slate-100\"}`}>\r\n              <input type=\"checkbox\" checked={filterUnread} onChange={() => setFilterUnread((s) => !s)} className=\"mr-2\" /> Unread\r\n            </label>\r\n            <label className={`px-2 py-1 rounded text-sm ${filterScheduled ? \"bg-amber-500 text-white\" : \"bg-slate-100\"}`}>\r\n              <input type=\"checkbox\" checked={filterScheduled} onChange={() => setFilterScheduled((s) => !s)} className=\"mr-2\" /> Scheduled\r\n            </label>\r\n            <label className={`px-2 py-1 rounded text-sm ${filterDrafts ? \"bg-slate-700 text-white\" : \"bg-slate-100\"}`}>\r\n              <input type=\"checkbox\" checked={filterDrafts} onChange={() => setFilterDrafts((s) => !s)} className=\"mr-2\" /> Drafts\r\n            </label>\r\n          </div>\r\n\r\n          <div className=\"mt-3 overflow-auto flex-1 space-y-2 pr-2\">\r\n            {filtered.length === 0 ? <div className=\"text-sm text-slate-500\">No conversations match your filters.</div> : filtered.map((t) => (\r\n              <div key={t.id} onClick={() => onOpenThread(t.id)} className=\"p-2 rounded-lg bg-white border hover:shadow cursor-pointer flex items-center justify-between\">\r\n                <div>\r\n                  <div className=\"font-medium\">{t.contactName ?? t.contactPhone ?? \"Unknown\"}</div>\r\n                  <div className=\"text-xs text-slate-500\">{t.snippet ?? \"—\"}</div>\r\n                </div>\r\n                <div className=\"text-right\">\r\n                  <div className=\"text-xs text-slate-400\">{formatShortDate(t.lastAt)}</div>\r\n                  {t.unreadCount ? <div className=\"mt-1 inline-block bg-amber-400 text-black px-2 py-0.5 rounded-full text-xs\">{t.unreadCount}</div> : null}\r\n                </div>\r\n              </div>\r\n            ))}\r\n          </div>\r\n        </div>\r\n\r\n        <div className=\"col-span-2 md:col-span-2 p-4 overflow-auto\">\r\n          <div className=\"flex items-center justify-between mb-3\">\r\n            <div>\r\n              <div className=\"text-sm text-slate-500\">Conversation Preview</div>\r\n              <div className=\"text-lg font-semibold\">Select a thread to open</div>\r\n            </div>\r\n            <div className=\"text-xs text-slate-400\">Real-time • {filtered.length} threads</div>\r\n          </div>\r\n\r\n          <div className=\"border rounded p-4 h-[62vh] overflow-auto flex flex-col\">\r\n            <div className=\"flex-1 grid place-items-center text-slate-400\">\r\n              <div>Click a thread on the left to view messages. This panel will show messages for the selected contact and allow quick reply, schedule, and attachments.</div>\r\n            </div>\r\n          </div>\r\n        </div>\r\n      </div>\r\n    </div>\r\n  );\r\n}\r\n\r\n/* ----------------------------- Messenger bubble (minimized) ---------------------------- */\r\n\r\nfunction MessengerBubble({ unread, onOpen, onClose }: { unread: number; onOpen: () => void; onClose: () => void }) {\r\n  return (\r\n    <div className=\"fixed bottom-6 right-6 z-50\">\r\n      <div className=\"flex flex-col items-end gap-2\">\r\n        <div className=\"bg-white rounded-xl p-2 shadow-lg w-64\">\r\n          <div className=\"flex items-center justify-between\">\r\n            <div className=\"flex items-center gap-2\">\r\n              <div className=\"w-8 h-8 rounded-full bg-gradient-to-br from-indigo-600 to-cyan-500 flex items-center justify-center text-white\">S</div>\r\n              <div className=\"text-sm font-medium\">SignalHub</div>\r\n            </div>\r\n            <div className=\"flex items-center gap-2\">\r\n              <button onClick={onOpen} className=\"px-2 py-1 rounded bg-indigo-600 text-white text-xs\">Open</button>\r\n              <button onClick={onClose} className=\"px-2 py-1 rounded bg-slate-100 text-xs\">Close</button>\r\n            </div>\r\n          </div>\r\n          <div className=\"mt-2 text-xs text-slate-500\">{unread} unread messages</div>\r\n        </div>\r\n\r\n        <button onClick={onOpen} className=\"relative w-14 h-14 rounded-full bg-indigo-600 text-white shadow-lg flex items-center justify-center\">\r\n          <svg className=\"w-6 h-6\" viewBox=\"0 0 24 24\" fill=\"none\" aria-hidden>\r\n            <path d=\"M21 12a9 9 0 10-3.18 6.18L21 21l-1.82-3.18A9 9 0 0021 12z\" stroke=\"white\" strokeWidth=\"1.5\" strokeLinecap=\"round\" strokeLinejoin=\"round\"/>\r\n          </svg>\r\n          {unread > 0 && <span className=\"absolute -top-2 -right-2 bg-amber-400 text-black text-xs px-2 py-0.5 rounded-full\">{unread}</span>}\r\n        </button>\r\n      </div>\r\n    </div>\r\n  );\r\n}\r\n\r\n/* ----------------------------- Small building blocks ---------------------------- */\r\n\r\nfunction MiniCard({ label, desc }: { label: string; desc: string }) {\r\n  return (\r\n    <div className=\"bg-white rounded-xl p-3 shadow-sm border border-slate-100 flex items-start gap-3\">\r\n      <div className=\"w-10 h-10 rounded-lg bg-gradient-to-br from-indigo-50 to-cyan-50 flex items-center justify-center\">\r\n        <svg width=\"18\" height=\"18\" viewBox=\"0 0 24 24\" fill=\"none\" aria-hidden>\r\n          <path d=\"M4 7h16M4 12h10M4 17h7\" stroke=\"#0f172a\" strokeWidth=\"1.4\" strokeLinecap=\"round\" />\r\n        </svg>\r\n      </div>\r\n      <div>\r\n        <div className=\"text-sm font-semibold text-slate-800\">{label}</div>\r\n        <div className=\"text-xs text-slate-500 mt-1\">{desc}</div>\r\n      </div>\r\n    </div>\r\n  );\r\n}\r\n\r\nfunction IntegrationsSummary({ numbers }: { numbers: ProviderNumber[] }) {\r\n  return (\r\n    <div className=\"rounded-xl border p-4 bg-white\">\r\n      <div className=\"flex items-center justify-between\">\r\n        <div>\r\n          <div className=\"text-sm font-semibold\">Integration status</div>\r\n          <div className=\"text-xs text-slate-600\">Connected providers & webhook health</div>\r\n        </div>\r\n        <div className=\"text-xs text-slate-500\">OK</div>\r\n      </div>\r\n      <div className=\"mt-3 text-sm text-slate-700\">\r\n        Twilio (Sandbox) — Webhook configured\r\n        <div className=\"mt-2 text-xs text-slate-500\">Available numbers: {numbers.length}</div>\r\n      </div>\r\n    </div>\r\n  );\r\n}\r\n\r\nfunction AnalyticsPanel({ analytics, loading }: { analytics: AnalyticsSummary | null; loading: boolean }) {\r\n  return (\r\n    <div className=\"bg-white rounded-2xl p-4 shadow-sm border border-slate-100\">\r\n      <div className=\"flex items-center justify-between\">\r\n        <h3 className=\"text-sm font-semibold text-slate-700\">Last 7 days</h3>\r\n        <span className=\"text-xs text-slate-500\">{loading ? \"Loading…\" : \"Updated\"}</span>\r\n      </div>\r\n\r\n      <div className=\"mt-3\">\r\n        <div className=\"flex items-end gap-6\">\r\n          <div>\r\n            <div className=\"text-2xl font-bold\">{analytics?.messages7d ?? \"—\"}</div>\r\n            <div className=\"text-xs text-slate-500\">Messages</div>\r\n          </div>\r\n          <div>\r\n            <div className=\"text-2xl font-bold\">{analytics?.avgResponseMins ?? \"—\"}m</div>\r\n            <div className=\"text-xs text-slate-500\">Avg response</div>\r\n          </div>\r\n          <div>\r\n            <div className=\"text-2xl font-bold\">{analytics?.openRatePct ?? \"—\"}%</div>\r\n            <div className=\"text-xs text-slate-500\">Open rate</div>\r\n          </div>\r\n        </div>\r\n\r\n        <div className=\"mt-4\">\r\n          <Sparkline data={analytics?.sparkline ?? [1, 2, 3, 2, 4]} />\r\n        </div>\r\n\r\n        <div className=\"mt-4 text-xs text-slate-500\">View full analytics for channel breakdown and exportable reports.</div>\r\n      </div>\r\n    </div>\r\n  );\r\n}\r\n\r\n/* ----------------------------- ThreadCard (draggable) ---------------------------- */\r\n\r\nfunction ThreadCard({ thread, onOpenContact, onCompose }: { thread: ThreadPreviewItem; onOpenContact: (id: string) => void; onCompose?: (t: ThreadPreviewItem) => void }) {\r\n  return (\r\n    <div\r\n      draggable\r\n      onDragStart={(e) => e.dataTransfer.setData(\"text/threadId\", thread.id)}\r\n      className=\"bg-white rounded-lg p-3 border hover:shadow cursor-grab\"\r\n    >\r\n      <div className=\"flex items-start justify-between gap-3\">\r\n        <div className=\"flex-1\">\r\n          <div className=\"flex items-center justify-between gap-3\">\r\n            <div>\r\n              <div className=\"font-medium\">{thread.contactName ?? thread.contactPhone ?? \"Unknown\"}</div>\r\n              <div className=\"text-xs text-slate-500\">{thread.contactPhone ?? \"—\"} • {(Array.isArray(thread.channels) ? thread.channels.join(\", \") : \"—\")}</div>\r\n            </div>\r\n            <div className=\"text-xs text-slate-400\">{formatShortDate(thread.lastAt)}</div>\r\n          </div>\r\n\r\n          <div className=\"mt-2 text-sm text-slate-700 line-clamp-2\">{thread.snippet ?? \"—\"}</div>\r\n          {thread.scheduled && <div className=\"mt-2 text-xs text-amber-600\">Scheduled</div>}\r\n          {thread.isDraft && <div className=\"mt-2 text-xs text-slate-700\">Draft</div>}\r\n        </div>\r\n\r\n        <div className=\"flex flex-col items-end gap-2\">\r\n          <button onClick={() => onOpenContact(thread.contactId ?? thread.id!)} className=\"text-xs px-2 py-1 rounded bg-slate-50\">Profile</button>\r\n          <button onClick={() => onCompose?.(thread)} className=\"text-xs px-2 py-1 rounded bg-indigo-600 text-white\">Reply</button>\r\n        </div>\r\n      </div>\r\n    </div>\r\n  );\r\n}\r\n\r\n/* ----------------------------- Composer Modal ---------------------------- */\r\n\r\nfunction ComposerModal({\r\n  onClose,\r\n  onSend,\r\n  context,\r\n  contacts,\r\n  onSent,\r\n}: {\r\n  onClose: () => void;\r\n  onSend: (payload: { to: string; channel: string; body: string; scheduleAt?: string; contactId?: string }) => Promise<any>;\r\n  context?: { threadId?: string; contactId?: string } | null;\r\n  contacts: ContactItem[];\r\n  onSent?: (p?: any) => void;\r\n}) {\r\n  const [to, setTo] = useState<string>(\"\");\r\n  const [selectedContactId, setSelectedContactId] = useState<string | undefined>(undefined);\r\n  const [channel, setChannel] = useState<\"SMS\" | \"WHATSAPP\" | \"EMAIL\">(\"SMS\");\r\n  const [body, setBody] = useState(\"\");\r\n  const [sendMode, setSendMode] = useState<\"now\" | \"schedule\">(\"now\");\r\n  const [sendAt, setSendAt] = useState<string | null>(null);\r\n  const [sending, setSending] = useState(false);\r\n\r\n  const phoneOptions = useMemo(\r\n    () => contacts.filter((c) => c.phone && c.phoneVerified).map((c) => ({ contactId: c.id, label: `${c.name ?? c.phone} (${c.phone})`, value: c.phone })),\r\n    [contacts]\r\n  );\r\n  const emailOptions = useMemo(\r\n    () => contacts.filter((c) => c.email).map((c) => ({ contactId: c.id, label: `${c.name ?? c.email} (${c.email})`, value: c.email })),\r\n    [contacts]\r\n  );\r\n\r\n  useEffect(() => {\r\n    if (!context?.contactId) return;\r\n    const c = contacts.find((x) => x.id === context.contactId);\r\n    if (!c) return;\r\n    if ((channel === \"SMS\" || channel === \"WHATSAPP\") && c.phone && c.phoneVerified) {\r\n      setTo(c.phone);\r\n      setSelectedContactId(c.id);\r\n    } else if (channel === \"EMAIL\" && c.email) {\r\n      setTo(c.email);\r\n      setSelectedContactId(c.id);\r\n    } else {\r\n      if (c.email) {\r\n        setTo(c.email);\r\n        setSelectedContactId(c.id);\r\n      } else if (c.phone && c.phoneVerified) {\r\n        setTo(c.phone);\r\n        setSelectedContactId(c.id);\r\n      }\r\n    }\r\n    // eslint-disable-next-line react-hooks/exhaustive-deps\r\n  }, [context?.contactId, contacts]);\r\n\r\n  useEffect(() => {\r\n    if (!to) return;\r\n    const isPhone = channel === \"SMS\" || channel === \"WHATSAPP\";\r\n    const match = contacts.find((c) => (isPhone ? c.phone === to && c.phoneVerified : c.email === to));\r\n    if (!match) {\r\n      setSelectedContactId(undefined);\r\n    } else {\r\n      setSelectedContactId(match.id);\r\n    }\r\n  }, [to, channel, contacts]);\r\n\r\n  function buildOptions() {\r\n    if (channel === \"EMAIL\") {\r\n      return emailOptions.map((o) => ({ label: o.label, value: JSON.stringify({ contactId: o.contactId, value: o.value }) }));\r\n    }\r\n    return phoneOptions.map((o) => ({ label: o.label, value: JSON.stringify({ contactId: o.contactId, value: o.value }) }));\r\n  }\r\n\r\n  function onSelectTo(e: React.ChangeEvent<HTMLSelectElement>) {\r\n    const val = e.target.value;\r\n    if (!val) {\r\n      setTo(\"\");\r\n      setSelectedContactId(undefined);\r\n      return;\r\n    }\r\n    try {\r\n      const parsed = JSON.parse(val);\r\n      setTo(parsed.value);\r\n      setSelectedContactId(parsed.contactId);\r\n    } catch {\r\n      setTo(val);\r\n      setSelectedContactId(undefined);\r\n    }\r\n  }\r\n\r\n  async function handleSend() {\r\n    setSending(true);\r\n    try {\r\n      if (!to) {\r\n        alert(\"Select recipient\");\r\n        setSending(false);\r\n        return;\r\n      }\r\n      if (!body.trim()) {\r\n        alert(\"Message body is required\");\r\n        setSending(false);\r\n        return;\r\n      }\r\n\r\n      const payload = {\r\n        to,\r\n        channel,\r\n        body,\r\n        scheduleAt: sendMode === \"schedule\" && sendAt ? sendAt : undefined,\r\n        contactId: selectedContactId,\r\n      };\r\n      await onSend(payload);\r\n      onSent?.(payload);\r\n      onClose();\r\n    } catch (e) {\r\n      console.error(\"send error\", e);\r\n      alert(\"Failed to send\");\r\n    } finally {\r\n      setSending(false);\r\n    }\r\n  }\r\n\r\n  const options = buildOptions();\r\n  const charCount = body.length;\r\n\r\n  return (\r\n    <div className=\"fixed inset-0 z-50 flex items-center justify-center\">\r\n      <div className=\"absolute inset-0 bg-black/40\" onClick={onClose} />\r\n      <div className=\"relative max-w-3xl w-full bg-white rounded-2xl p-6 shadow-lg z-10\">\r\n        <div className=\"flex items-center justify-between\">\r\n          <h3 className=\"text-lg font-semibold\">Compose</h3>\r\n          <button onClick={onClose} className=\"text-sm text-slate-500\">Close</button>\r\n        </div>\r\n\r\n        <div className=\"mt-4 grid grid-cols-1 md:grid-cols-3 gap-3\">\r\n          <div className=\"md:col-span-2 space-y-3\">\r\n            <label className=\"text-xs text-slate-600\">To</label>\r\n            <select className=\"w-full rounded border px-3 py-2\" value={to ? JSON.stringify({ contactId: selectedContactId ?? null, value: to }) : \"\"} onChange={onSelectTo}>\r\n              <option value=\"\">— select recipient —</option>\r\n              {options.length === 0 ? <option value=\"\" disabled>No verified recipients</option> : options.map((opt, i) => <option key={i} value={opt.value}>{opt.label}</option>)}\r\n            </select>\r\n            <div className=\"grid grid-cols-2 gap-3\">\r\n              <div>\r\n                <label className=\"text-xs text-slate-600\">Channel</label>\r\n                <select className=\"w-full rounded border px-3 py-2\" value={channel} onChange={(e) => setChannel(e.target.value as any)}>\r\n                  <option value=\"SMS\">SMS</option>\r\n                  <option value=\"WHATSAPP\">WhatsApp</option>\r\n                  <option value=\"EMAIL\">Email</option>\r\n                </select>\r\n              </div>\r\n\r\n              <div>\r\n                <label className=\"text-xs text-slate-600\">Send</label>\r\n                <select className=\"w-full rounded border px-3 py-2\" value={sendMode} onChange={(e) => setSendMode(e.target.value as any)}>\r\n                  <option value=\"now\">Now</option>\r\n                  <option value=\"schedule\">Schedule</option>\r\n                </select>\r\n              </div>\r\n            </div>\r\n\r\n            {sendMode === \"schedule\" && (\r\n              <div>\r\n                <label className=\"text-xs text-slate-600\">Send at</label>\r\n                <input type=\"datetime-local\" className=\"w-full rounded border px-3 py-2\" value={sendAt ?? \"\"} onChange={(e) => setSendAt(e.target.value)} />\r\n                <div className=\"text-xs text-slate-400 mt-1\">Scheduled messages execute via the scheduler worker.</div>\r\n              </div>\r\n            )}\r\n\r\n            <div>\r\n              <label className=\"text-xs text-slate-600\">Message</label>\r\n              <textarea rows={6} value={body} onChange={(e) => setBody(e.target.value)} className=\"w-full rounded border px-3 py-2 mt-1\" />\r\n              <div className=\"flex items-center justify-between text-xs text-slate-500 mt-2\">\r\n                <div>{channel === \"SMS\" ? `SMS preview — ${Math.ceil(charCount / 160)} segments` : \"Preview will adapt per channel.\"}</div>\r\n                <div>{charCount} chars</div>\r\n              </div>\r\n            </div>\r\n          </div>\r\n\r\n          <aside className=\"bg-slate-50 rounded p-3 flex flex-col gap-3\">\r\n            <div>\r\n              <div className=\"text-xs text-slate-500\">Preview</div>\r\n              <div className=\"mt-2 p-2 rounded bg-white border text-sm h-36 overflow-auto\">\r\n                <div className=\"font-medium\">{to || \"Recipient\"}</div>\r\n                <div className=\"text-xs text-slate-400 mt-1\">{channel} • {formatShortDate(sendMode === \"schedule\" && sendAt ? sendAt : new Date().toISOString())}</div>\r\n                <div className=\"mt-3 text-slate-700\">{body || <span className=\"text-slate-400\">Message preview will appear here</span>}</div>\r\n              </div>\r\n            </div>\r\n\r\n            <div className=\"mt-auto\">\r\n              <div className=\"flex gap-2\">\r\n                <button onClick={onClose} className=\"px-3 py-2 rounded border w-full\">Cancel</button>\r\n                <button disabled={sending || !to || !body} onClick={handleSend} className=\"px-3 py-2 rounded bg-indigo-600 text-white w-full\">\r\n                  {sending ? \"Sending…\" : sendMode === \"now\" ? \"Send\" : \"Schedule\"}\r\n                </button>\r\n              </div>\r\n            </div>\r\n          </aside>\r\n        </div>\r\n      </div>\r\n    </div>\r\n  );\r\n}\r\n\r\n/* ----------------------------- ContactProfileModal + YjsNotes ---------------------------- */\r\n\r\nfunction ContactProfileModal({ contactId, onClose, isEditor }: { contactId: string; onClose: () => void; isEditor: boolean }) {\r\n  const [loading, setLoading] = useState(true);\r\n  const [contact, setContact] = useState<any | null>(null);\r\n  const [notes, setNotes] = useState<any[]>([]);\r\n  const [adding, setAdding] = useState(false);\r\n  const [noteText, setNoteText] = useState(\"\");\r\n\r\n  useEffect(() => {\r\n    let mounted = true;\r\n    const controller = new AbortController();\r\n    const signal = controller.signal;\r\n\r\n    async function load() {\r\n      try {\r\n        const [cRes, nRes] = await Promise.all([fetch(`/api/contacts/${contactId}`, { signal }), fetch(`/api/contacts/${contactId}/notes`, { signal })]);\r\n        if (!mounted) return;\r\n        if (cRes.ok) {\r\n          const cj = await cRes.json().catch(() => null);\r\n          setContact(cj?.contact ?? cj);\r\n        }\r\n        if (nRes.ok) {\r\n          const nj = await nRes.json().catch(() => null);\r\n          setNotes(Array.isArray(nj) ? nj : nj?.notes ?? []);\r\n        }\r\n      } catch (e) {\r\n        if ((e as any)?.name !== \"AbortError\") console.error(e);\r\n      } finally {\r\n        if (mounted) setLoading(false);\r\n      }\r\n    }\r\n\r\n    load();\r\n    return () => {\r\n      mounted = false;\r\n      controller.abort();\r\n    };\r\n  }, [contactId]);\r\n\r\n  async function handleAddNote() {\r\n    if (!noteText.trim()) return;\r\n    setAdding(true);\r\n    try {\r\n      const res = await fetch(`/api/contacts/${contactId}/notes`, {\r\n        method: \"POST\",\r\n        headers: { \"Content-Type\": \"application/json\" },\r\n        body: JSON.stringify({ body: noteText }),\r\n      });\r\n      if (!res.ok) throw new Error(\"failed to add note\");\r\n      const j = await res.json().catch(() => null);\r\n      setNotes((s) => [j ?? { id: String(Math.random()), body: noteText }, ...s]);\r\n      setNoteText(\"\");\r\n    } catch (e) {\r\n      console.error(e);\r\n      alert(\"Failed to add note\");\r\n    } finally {\r\n      setAdding(false);\r\n    }\r\n  }\r\n\r\n  return (\r\n    <div className=\"fixed inset-0 z-50 flex items-center justify-center\">\r\n      <div className=\"absolute inset-0 bg-black/40\" onClick={onClose} />\r\n      <div className=\"relative max-w-4xl w-full bg-white rounded-2xl p-6 shadow-lg z-10\">\r\n        <div className=\"flex items-start justify-between\">\r\n          <h3 className=\"text-lg font-semibold\">Contact</h3>\r\n          <button onClick={onClose} className=\"text-sm text-slate-500\">Close</button>\r\n        </div>\r\n\r\n        {loading ? (\r\n          <div className=\"mt-4\">Loading…</div>\r\n        ) : (\r\n          <div className=\"mt-4 grid grid-cols-1 md:grid-cols-3 gap-4\">\r\n            <div className=\"md:col-span-2\">\r\n              <div className=\"text-sm font-semibold\">{contact?.name ?? contact?.phone ?? \"Contact\"}</div>\r\n              <div className=\"text-xs text-slate-500 mt-1\">{contact?.email ?? \"—\"}</div>\r\n\r\n              <div className=\"mt-4\">\r\n                <div className=\"text-sm font-medium\">Shared notes</div>\r\n                <div className=\"mt-2\">\r\n                  <YjsNotes contactId={contactId} currentUser={{ id: \"me\", name: contact?.name ?? \"You\" }} />\r\n                </div>\r\n\r\n                <div className=\"mt-4\">\r\n                  <div className=\"text-sm font-medium\">Saved notes</div>\r\n                  <div className=\"mt-2 space-y-2\">\r\n                    {notes.length === 0 ? <div className=\"text-xs text-slate-500\">No notes</div> : notes.map((n) => <div key={n.id ?? JSON.stringify(n)} className=\"p-2 bg-slate-50 rounded\">{n.encrypted ? \"(encrypted)\" : n.body}</div>)}\r\n                  </div>\r\n\r\n                  {isEditor && (\r\n                    <div className=\"mt-4\">\r\n                      <textarea value={noteText} onChange={(e) => setNoteText(e.target.value)} rows={3} className=\"w-full rounded border px-3 py-2 mt-1\" placeholder=\"Add private note\" />\r\n                      <div className=\"mt-2 flex justify-end\">\r\n                        <button disabled={adding || !noteText.trim()} onClick={handleAddNote} className=\"px-3 py-1 rounded bg-indigo-600 text-white text-sm\">{adding ? \"Adding…\" : \"Add note\"}</button>\r\n                      </div>\r\n                    </div>\r\n                  )}\r\n                </div>\r\n              </div>\r\n            </div>\r\n\r\n            <div className=\"md:col-span-1\">\r\n              <div className=\"text-sm font-medium\">Quick actions</div>\r\n              <div className=\"mt-2 flex flex-col gap-2\">\r\n                <Link href={`/inbox?contact=${contactId}`} className=\"px-3 py-2 rounded bg-indigo-600 text-white text-sm text-center\">Open thread</Link>\r\n                <button className=\"px-3 py-2 rounded bg-slate-50 text-sm\">Merge</button>\r\n                <button className=\"px-3 py-2 rounded bg-slate-50 text-sm\">Export</button>\r\n              </div>\r\n            </div>\r\n          </div>\r\n        )}\r\n      </div>\r\n    </div>\r\n  );\r\n}\r\n\r\n/* ----------------------------- YjsNotes ---------------------------- */\r\n\r\nfunction YjsNotes({ contactId, currentUser }: { contactId: string; currentUser: { id?: string; name?: string } }) {\r\n  const [text, setText] = useState(\"\");\r\n  const ydocRef = useRef<Y.Doc | null>(null);\r\n  const providerRef = useRef<WebsocketProvider | null>(null);\r\n\r\n  useEffect(() => {\r\n    const wsUrl = process.env.NEXT_PUBLIC_YJS_WS || \"ws://localhost:1234\";\r\n    const doc = new Y.Doc();\r\n    ydocRef.current = doc;\r\n    const provider = new WebsocketProvider(wsUrl, `contact-notes-${contactId}`, doc);\r\n    providerRef.current = provider;\r\n\r\n    const ytext = doc.getText(\"notes\");\r\n    setText(ytext.toString());\r\n    const obs = () => setText(ytext.toString());\r\n    ytext.observe(obs);\r\n\r\n    try {\r\n      provider.awareness.setLocalStateField(\"user\", { id: currentUser?.id, name: currentUser?.name ?? \"Unknown\" });\r\n    } catch {}\r\n\r\n    return () => {\r\n      try {\r\n        ytext.unobserve(obs);\r\n      } catch {}\r\n      try {\r\n        provider.disconnect();\r\n      } catch {}\r\n      doc.destroy();\r\n    };\r\n  }, [contactId, currentUser?.id, currentUser?.name]);\r\n\r\n  function onChangeLocal(e: React.ChangeEvent<HTMLTextAreaElement>) {\r\n    const doc = ydocRef.current;\r\n    if (!doc) return;\r\n    const ytext = doc.getText(\"notes\");\r\n    ytext.delete(0, ytext.length);\r\n    ytext.insert(0, e.target.value);\r\n    setText(e.target.value);\r\n  }\r\n\r\n  async function saveSnapshotToDB() {\r\n    const doc = ydocRef.current;\r\n    if (!doc) return;\r\n    const val = doc.getText(\"notes\").toString();\r\n    try {\r\n      await fetch(`/api/contacts/${contactId}/notes`, {\r\n        method: \"POST\",\r\n        headers: { \"Content-Type\": \"application/json\" },\r\n        body: JSON.stringify({ body: val }),\r\n      });\r\n      alert(\"Saved snapshot\");\r\n    } catch (e) {\r\n      console.error(e);\r\n      alert(\"Save failed\");\r\n    }\r\n  }\r\n\r\n  return (\r\n    <div>\r\n      <textarea className=\"w-full rounded border px-3 py-2 mt-1\" rows={6} value={text} onChange={onChangeLocal} />\r\n      <div className=\"flex justify-end mt-2 gap-2\">\r\n        <button onClick={saveSnapshotToDB} className=\"px-3 py-1 rounded bg-slate-50\">Save snapshot</button>\r\n      </div>\r\n    </div>\r\n  );\r\n}\r\n\r\n/* ----------------------------- Sparkline ---------------------------- */\r\n\r\nfunction Sparkline({ data }: { data: number[] }) {\r\n  const width = 160;\r\n  const height = 40;\r\n  const max = Math.max(...data);\r\n  const min = Math.min(...data);\r\n  const points = data\r\n    .map((v, i) => {\r\n      const x = (i / (data.length - 1 || 1)) * width;\r\n      const y = height - ((v - min) / (max - min || 1)) * height;\r\n      return `${x},${y}`;\r\n    })\r\n    .join(\" \");\r\n\r\n  return (\r\n    <svg width={width} height={height} viewBox={`0 0 ${width} ${height}`} aria-hidden>\r\n      <polyline fill=\"none\" stroke=\"#4F46E5\" strokeWidth={2} strokeLinejoin=\"round\" strokeLinecap=\"round\" points={points} />\r\n    </svg>\r\n  );\r\n}\r\n\r\n/* ----------------------------- SearchBar ---------------------------- */\r\n\r\nfunction SearchBar({ onSearch }: { onSearch: (q: string) => void }) {\r\n  const [q, setQ] = useState(\"\");\r\n  return (\r\n    <div className=\"flex items-center bg-slate-100 rounded px-3 py-1\">\r\n      <input value={q} onChange={(e) => setQ(e.target.value)} onKeyDown={(e) => e.key === \"Enter\" && onSearch(q)} placeholder=\"Search threads, contacts...\" className=\"bg-transparent outline-none text-sm\" />\r\n      <button onClick={() => onSearch(q)} className=\"text-xs px-2 py-1 rounded bg-slate-200\">Search</button>\r\n    </div>\r\n  );\r\n}\r\n"],"names":["c","_c","React","useEffect","useMemo","useRef","useState","Link","useRouter","ProfileMenu","Y","WebsocketProvider","Role","User","id","email","name","role","ThreadPreviewItem","contactId","contactName","contactPhone","channels","snippet","lastAt","unreadCount","status","scheduled","isDraft","ProviderNumber","phone","provider","capabilities","Record","purchased","ContactItem","emailVerified","phoneVerified","AnalyticsSummary","messages7d","avgResponseMins","openRatePct","sparkline","formatShortDate","iso","d","Date","toLocaleString","WelcomePage","router","user","setUser","loading","setLoading","analytics","setAnalytics","threads","setThreads","numbers","setNumbers","contacts","setContacts","composerOpen","setComposerOpen","composerContext","setComposerContext","threadId","contactModal","setContactModal","buying","setBuying","presence","setPresence","idle","wsRef","WebSocket","integrationsOpen","setIntegrationsOpen","inboxOpen","setInboxOpen","inboxMinimized","setInboxMinimized","toString","toUpperCase","isAdmin","isEditor","mounted","controller","AbortController","signal","loadAll","meRes","analyticsRes","threadsRes","numbersRes","Promise","all","fetch","ok","j","json","catch","Array","isArray","fetchContacts","e","console","error","abort","AbortSignal","normalizeRaw","raw","userId","_id","displayName","fullName","Boolean","email_verified","emails","length","p","value","address","verified","profile","phoneNumber","phones","number","String","Math","random","slice","tryFetch","url","opts","undefined","r","endpoints","aggregated","ep","n","push","item","users","me","map","Map","a","key","JSON","stringify","has","set","ex","get","result","from","values","prev","merged","forEach","ws","window","location","origin","current","onopen","send","type","onmessage","ev","msg","parse","data","copy","t","thread","x","exists","find","incrementUnread","small","fromName","text","toISOString","warn","onclose","close","handleBuyNumber","res","method","headers","body","Error","ref","alert","openComposer","ctx","closeComposer","sendMessage","payload","to","channel","scheduleAt","isScheduled","optimistic","Response","sendAt","metadata","parsed","filter","startsWith","serverMsg","message","err","columns","title","getColumnThreads","colKey","col","handleDropThread","destColumnKey","newStatus","totalUnread","reduce","s","Object","keys","entries","k","join","q","preventDefault","dataTransfer","getData","thr","IntegrationsModal","t0","$","$i","Symbol","for","onClose","onBuy","refresh","query","setQuery","t1","t2","t3","t4","t5","t6","target","t7","t8","t9","t10","includes","toLowerCase","n_0","IntegrationsModal[(anonymous)() > <button>.onClick]","t11","t12","t13","t14","InboxPanel","onMinimize","onOpenThread","onRefresh","search","setSearch","filterUnread","setFilterUnread","filterScheduled","setFilterScheduled","filterDrafts","setFilterDrafts","trim","hay","filtered","InboxPanel[<input>.onChange]","_InboxPanelInputOnChangeSetFilterUnread","t15","_InboxPanelInputOnChangeSetFilterScheduled","t16","t17","t18","t19","_InboxPanelInputOnChangeSetFilterDrafts","t20","t21","t22","t23","t_0","InboxPanel[filtered.map() > <div>.onClick]","t24","t25","t26","t27","t28","t29","t30","t31","s_1","s_0","MessengerBubble","unread","onOpen","MiniCard","label","desc","IntegrationsSummary","AnalyticsPanel","ThreadCard","onOpenContact","onCompose","setData","ThreadCard[<button>.onClick]","ComposerModal","onSend","context","onSent","setTo","selectedContactId","setSelectedContactId","setChannel","setBody","sendMode","setSendMode","setSendAt","sending","setSending","phoneOptions","emailOptions","isPhone","match","buildOptions","o","onSelectTo","ChangeEvent","HTMLSelectElement","val","handleSend","options","charCount","opt","i","ceil","ContactProfileModal","contact","setContact","notes","setNotes","adding","setAdding","noteText","setNoteText","load","cRes","nRes","cj","nj","handleAddNote","encrypted","YjsNotes","currentUser","setText","ydocRef","Doc","providerRef","wsUrl","process","env","NEXT_PUBLIC_YJS_WS","doc","ytext","getText","obs","observe","awareness","setLocalStateField","unobserve","disconnect","destroy","onChangeLocal","HTMLTextAreaElement","delete","insert","saveSnapshotToDB","Sparkline","max","min","Sparkline[data.map()]","v","y","points","width","height","SearchBar","onSearch","setQ","e_0","SearchBar[<button>.onClick]"],"mappings":"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","ignoreList":[],"debugId":null}}]
}