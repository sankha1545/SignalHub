{
  "version": 3,
  "sources": [],
  "sections": [
    {"offset": {"line": 10, "column": 0}, "map": {"version":3,"sources":["file:///E:/SignalHub/frontend/src/lib/useUser.ts"],"sourcesContent":["// lib/useUser.ts\r\n\"use client\";\r\nimport { useEffect, useState } from \"react\";\r\n\r\nexport function useUser() {\r\n  const [user, setUser] = useState<any>(null);\r\n  const [loading, setLoading] = useState(true);\r\n\r\n  useEffect(() => {\r\n    fetch(\"/api/me\")\r\n      .then((res) => res.json())\r\n      .then((data) => setUser(data.user))\r\n      .finally(() => setLoading(false));\r\n  }, []);\r\n\r\n  return { user, loading };\r\n}\r\n"],"names":[],"mappings":"AAAA,iBAAiB;;;;;AAEjB;AADA;;AAGO,SAAS;IACd,MAAM,CAAC,MAAM,QAAQ,GAAG,IAAA,iNAAQ,EAAM;IACtC,MAAM,CAAC,SAAS,WAAW,GAAG,IAAA,iNAAQ,EAAC;IAEvC,IAAA,kNAAS,EAAC;QACR,MAAM,WACH,IAAI,CAAC,CAAC,MAAQ,IAAI,IAAI,IACtB,IAAI,CAAC,CAAC,OAAS,QAAQ,KAAK,IAAI,GAChC,OAAO,CAAC,IAAM,WAAW;IAC9B,GAAG,EAAE;IAEL,OAAO;QAAE;QAAM;IAAQ;AACzB","debugId":null}},
    {"offset": {"line": 51, "column": 0}, "map": {"version":3,"sources":["file:///E:/SignalHub/frontend/src/app/%28authenticated%29/layout.tsx"],"sourcesContent":["// app/(authenticated)/layout.tsx\r\n\"use client\";\r\n\r\nimport { useUser } from \"@/lib/useUser\"; // your hook returning { user, role, loading }\r\nimport Link from \"next/link\";\r\nimport { useRouter } from \"next/navigation\";\r\nimport { useEffect } from \"react\";\r\n\r\nexport default function AuthenticatedLayout({ children }: { children: React.ReactNode }) {\r\n  const { user, loading } = useUser();\r\n  const router = useRouter();\r\n\r\n  useEffect(() => {\r\n    if (!loading && !user) router.push(\"/login\");\r\n  }, [loading, user, router]);\r\n\r\n  if (loading || !user) {\r\n    return (\r\n      <div className=\"flex items-center justify-center min-h-screen\">\r\n        <p>Loading...</p>\r\n      </div>\r\n    );\r\n  }\r\n\r\n  const isAdmin = user.role === \"ADMIN\";\r\n  const isEditor = [\"EDITOR\", \"ADMIN\"].includes(user.role);\r\n\r\n  return (\r\n    <div className=\"flex min-h-screen bg-gray-50 text-gray-900\">\r\n      {/* Sidebar */}\r\n      <aside className=\"w-64 bg-white border-r p-4 flex flex-col\">\r\n        <h2 className=\"text-xl font-semibold mb-6\">SignalHub</h2>\r\n        <nav className=\"flex flex-col gap-2 flex-grow\">\r\n          <Link href=\"/inbox\" className=\"hover:text-blue-600\">Inbox</Link>\r\n          <Link href=\"/analytics\" className=\"hover:text-blue-600\">Analytics</Link>\r\n          {isAdmin && <Link href=\"/admin\" className=\"hover:text-blue-600\">Admin</Link>}\r\n          <Link href=\"/settings\" className=\"hover:text-blue-600 mt-auto\">Settings</Link>\r\n        </nav>\r\n      </aside>\r\n\r\n      {/* Main content */}\r\n      <main className=\"flex-1 p-6 overflow-y-auto\">\r\n        <header className=\"flex justify-between items-center mb-6\">\r\n          <h1 className=\"text-2xl font-bold\">\r\n            {isAdmin ? \"Admin Dashboard\" : isEditor ? \"Inbox\" : \"Viewer Mode\"}\r\n          </h1>\r\n          <div className=\"flex items-center gap-3\">\r\n            <span className=\"text-sm text-gray-600\">Logged in as <b>{user.email}</b></span>\r\n            <span className=\"px-2 py-1 text-xs rounded-full bg-blue-100 text-blue-700 font-medium\">\r\n              {user.role}\r\n            </span>\r\n          </div>\r\n        </header>\r\n        {children}\r\n      </main>\r\n    </div>\r\n  );\r\n}\r\n"],"names":[],"mappings":"AAAA,iCAAiC;;;;;;AAGjC,4MAAyC,8CAA8C;AACvF;AACA;AACA;AALA;;;;;;AAOe,SAAS,oBAAoB,EAAE,QAAQ,EAAiC;IACrF,MAAM,EAAE,IAAI,EAAE,OAAO,EAAE,GAAG,IAAA,gIAAO;IACjC,MAAM,SAAS,IAAA,+IAAS;IAExB,IAAA,kNAAS,EAAC;QACR,IAAI,CAAC,WAAW,CAAC,MAAM,OAAO,IAAI,CAAC;IACrC,GAAG;QAAC;QAAS;QAAM;KAAO;IAE1B,IAAI,WAAW,CAAC,MAAM;QACpB,qBACE,8OAAC;YAAI,WAAU;sBACb,cAAA,8OAAC;0BAAE;;;;;;;;;;;IAGT;IAEA,MAAM,UAAU,KAAK,IAAI,KAAK;IAC9B,MAAM,WAAW;QAAC;QAAU;KAAQ,CAAC,QAAQ,CAAC,KAAK,IAAI;IAEvD,qBACE,8OAAC;QAAI,WAAU;;0BAEb,8OAAC;gBAAM,WAAU;;kCACf,8OAAC;wBAAG,WAAU;kCAA6B;;;;;;kCAC3C,8OAAC;wBAAI,WAAU;;0CACb,8OAAC,uKAAI;gCAAC,MAAK;gCAAS,WAAU;0CAAsB;;;;;;0CACpD,8OAAC,uKAAI;gCAAC,MAAK;gCAAa,WAAU;0CAAsB;;;;;;4BACvD,yBAAW,8OAAC,uKAAI;gCAAC,MAAK;gCAAS,WAAU;0CAAsB;;;;;;0CAChE,8OAAC,uKAAI;gCAAC,MAAK;gCAAY,WAAU;0CAA8B;;;;;;;;;;;;;;;;;;0BAKnE,8OAAC;gBAAK,WAAU;;kCACd,8OAAC;wBAAO,WAAU;;0CAChB,8OAAC;gCAAG,WAAU;0CACX,UAAU,oBAAoB,WAAW,UAAU;;;;;;0CAEtD,8OAAC;gCAAI,WAAU;;kDACb,8OAAC;wCAAK,WAAU;;4CAAwB;0DAAa,8OAAC;0DAAG,KAAK,KAAK;;;;;;;;;;;;kDACnE,8OAAC;wCAAK,WAAU;kDACb,KAAK,IAAI;;;;;;;;;;;;;;;;;;oBAIf;;;;;;;;;;;;;AAIT","debugId":null}}]
}