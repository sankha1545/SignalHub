{
  "version": 3,
  "sources": [],
  "sections": [
    {"offset": {"line": 28, "column": 0}, "map": {"version":3,"sources":["file:///E:/SignalHub/frontend/src/components/profile/EditProfile.tsx"],"sourcesContent":["// components/profile/EditProfile.tsx\r\n\"use client\";\r\n\r\nimport React, { useEffect, useRef, useState } from \"react\";\r\nimport ReactDOM from \"react-dom\";\r\n\r\nconst GEONAMES_USERNAME = \"sankha\"; // <-- replace this\r\n\r\n// 38 timezones (UTC offset - label). You can edit labels if desired.\r\nconst TIMEZONES_38 = [\r\n  \"UTC-12:00 - Baker Island\",\r\n  \"UTC-11:00 - Niue / American Samoa\",\r\n  \"UTC-10:00 - Hawaii-Aleutian Standard Time\",\r\n  \"UTC-09:00 - Alaska Standard Time\",\r\n  \"UTC-08:00 - Pacific Standard Time\",\r\n  \"UTC-07:00 - Mountain Standard Time\",\r\n  \"UTC-06:00 - Central Standard Time\",\r\n  \"UTC-05:00 - Eastern Standard Time\",\r\n  \"UTC-04:00 - Atlantic Standard Time\",\r\n  \"UTC-03:30 - Newfoundland Standard Time\",\r\n  \"UTC-03:00 - Argentina / Brasilia\",\r\n  \"UTC-02:00 - South Georgia Time\",\r\n  \"UTC-01:00 - Azores\",\r\n  \"UTC+00:00 - Greenwich Mean Time\",\r\n  \"UTC+01:00 - Central European Time\",\r\n  \"UTC+02:00 - Eastern European Time\",\r\n  \"UTC+03:00 - Moscow / Arabia\",\r\n  \"UTC+03:30 - Iran Standard Time\",\r\n  \"UTC+04:00 - Azerbaijan / UAE\",\r\n  \"UTC+04:30 - Afghanistan\",\r\n  \"UTC+05:00 - Pakistan Standard Time\",\r\n  \"UTC+05:30 - India Standard Time\",\r\n  \"UTC+05:45 - Nepal Time\",\r\n  \"UTC+06:00 - Bangladesh / Bhutan\",\r\n  \"UTC+06:30 - Cocos / Myanmar\",\r\n  \"UTC+07:00 - Indochina Time\",\r\n  \"UTC+08:00 - China / Singapore\",\r\n  \"UTC+09:00 - Japan / Korea\",\r\n  \"UTC+09:30 - Australian Central Standard Time\",\r\n  \"UTC+10:00 - Australian Eastern Standard Time\",\r\n  \"UTC+10:30 - Lord Howe\",\r\n  \"UTC+11:00 - Solomon Is. / New Caledonia\",\r\n  \"UTC+12:00 - Fiji / New Zealand\",\r\n  \"UTC+12:45 - Chatham Islands\",\r\n  \"UTC+13:00 - Tonga / Phoenix Is.\",\r\n  \"UTC+14:00 - Line Islands\"\r\n];\r\n\r\ntype CountryEntry = {\r\n  geonameId: number;\r\n  countryName: string;\r\n  countryCode: string;\r\n};\r\n\r\ntype StateEntry = {\r\n  geonameId: number;\r\n  name: string;\r\n};\r\n\r\ntype User = {\r\n  id: string;\r\n  email: string;\r\n  name?: string | null;\r\n  profile?: any;\r\n};\r\n\r\ntype Props = {\r\n  open: boolean;\r\n  onClose: () => void;\r\n  user: User | null;\r\n  onSave: (payload: Partial<User & { profile?: any }>) => Promise<boolean> | boolean;\r\n};\r\n\r\nexport default function EditProfile({ open, onClose, user, onSave }: Props) {\r\n  const [saving, setSaving] = useState(false);\r\n\r\n  // form fields\r\n  const [fullName, setFullName] = useState(\"\");\r\n  const [displayName, setDisplayName] = useState(\"\");\r\n  const [gender, setGender] = useState(\"\");\r\n  const [countryGeonameId, setCountryGeonameId] = useState<number | \"\">(\"\");\r\n  const [countryCode, setCountryCode] = useState(\"\");\r\n  const [countryName, setCountryName] = useState(\"\");\r\n  const [stateGeonameId, setStateGeonameId] = useState<number | \"\">(\"\");\r\n  const [stateName, setStateName] = useState(\"\");\r\n  const [language, setLanguage] = useState(\"\");\r\n  const [timezone, setTimezone] = useState(\"\");\r\n\r\n  // lists + loading flags\r\n  const [countries, setCountries] = useState<CountryEntry[]>([]);\r\n  const [states, setStates] = useState<StateEntry[]>([]);\r\n  const [loadingCountries, setLoadingCountries] = useState(false);\r\n  const [loadingStates, setLoadingStates] = useState(false);\r\n\r\n  const primaryRef = useRef<HTMLButtonElement | null>(null);\r\n\r\n  // load values from user whenever modal opens or user changes\r\n  useEffect(() => {\r\n    if (!user) return;\r\n    setFullName(user.name ?? \"\");\r\n    const p = user.profile ?? {};\r\n    setDisplayName(p.displayName ?? \"\");\r\n    setGender(p.gender ?? \"\");\r\n    setCountryCode(p.countryCode ?? \"\");\r\n    setCountryName(p.countryName ?? \"\");\r\n    setLanguage(p.language ?? \"\");\r\n    setTimezone(p.timezone ?? \"\");\r\n    // If user has saved geoname ids, use them (if present)\r\n    if (p.countryGeonameId) setCountryGeonameId(p.countryGeonameId);\r\n    if (p.stateGeonameId) setStateGeonameId(p.stateGeonameId);\r\n    if (p.stateName) setStateName(p.stateName);\r\n  }, [user, open]);\r\n\r\n  // fetch countries on mount (with simple sessionStorage caching)\r\n  useEffect(() => {\r\n    let mounted = true;\r\n    async function loadCountries() {\r\n      setLoadingCountries(true);\r\n      try {\r\n        const cached = sessionStorage.getItem(\"geonames_countries_v1\");\r\n        if (cached) {\r\n          const parsed: CountryEntry[] = JSON.parse(cached);\r\n          if (mounted) setCountries(parsed);\r\n          setLoadingCountries(false);\r\n          return;\r\n        }\r\n\r\n        const res = await fetch(`http://api.geonames.org/countryInfoJSON?username=${GEONAMES_USERNAME}`);\r\n        if (!res.ok) throw new Error(\"Failed to fetch countries from GeoNames\");\r\n        const json = await res.json();\r\n        const list: CountryEntry[] = (json.geonames || []).map((c: any) => ({\r\n          geonameId: c.geonameId,\r\n          countryName: c.countryName,\r\n          countryCode: c.countryCode\r\n        }));\r\n        sessionStorage.setItem(\"geonames_countries_v1\", JSON.stringify(list));\r\n        if (mounted) setCountries(list);\r\n      } catch (err) {\r\n        console.error(\"Error loading countries:\", err);\r\n      } finally {\r\n        if (mounted) setLoadingCountries(false);\r\n      }\r\n    }\r\n    loadCountries();\r\n    return () => { mounted = false; };\r\n  }, []);\r\n\r\n  // when a countryGeonameId is selected, fetch its children (states) from GeoNames\r\n  useEffect(() => {\r\n    let mounted = true;\r\n    async function loadStates() {\r\n      if (!countryGeonameId) {\r\n        setStates([]);\r\n        setStateGeonameId(\"\");\r\n        setStateName(\"\");\r\n        return;\r\n      }\r\n      setLoadingStates(true);\r\n      setStates([]);\r\n      try {\r\n        const res = await fetch(`http://api.geonames.org/childrenJSON?geonameId=${countryGeonameId}&username=${GEONAMES_USERNAME}`);\r\n        if (!res.ok) throw new Error(\"Failed to fetch states from GeoNames\");\r\n        const json = await res.json();\r\n        const st: StateEntry[] = (json.geonames || []).map((g: any) => ({\r\n          geonameId: g.geonameId,\r\n          name: g.name\r\n        }));\r\n        if (mounted) {\r\n          setStates(st);\r\n          setLoadingStates(false);\r\n        }\r\n      } catch (err) {\r\n        console.error(\"Error loading states:\", err);\r\n        if (mounted) setLoadingStates(false);\r\n      }\r\n    }\r\n\r\n    // set countryCode and countryName from countries list (so we store both)\r\n    if (countryGeonameId) {\r\n      const found = countries.find((c) => c.geonameId === countryGeonameId);\r\n      if (found) {\r\n        setCountryCode(found.countryCode);\r\n        setCountryName(found.countryName);\r\n      }\r\n    } else {\r\n      setCountryCode(\"\");\r\n      setCountryName(\"\");\r\n    }\r\n\r\n    loadStates();\r\n    return () => { mounted = false; };\r\n  }, [countryGeonameId, countries]);\r\n\r\n  // lock scroll & focus primary save button on open\r\n  useEffect(() => {\r\n    if (!open) return;\r\n    const prev = document.body.style.overflow;\r\n    document.body.style.overflow = \"hidden\";\r\n    const t = setTimeout(() => primaryRef.current?.focus(), 80);\r\n    return () => {\r\n      document.body.style.overflow = prev;\r\n      clearTimeout(t);\r\n    };\r\n  }, [open]);\r\n\r\n  // ESC to close\r\n  useEffect(() => {\r\n    function onKey(e: KeyboardEvent) {\r\n      if (e.key === \"Escape\") onClose();\r\n    }\r\n    if (open) window.addEventListener(\"keydown\", onKey);\r\n    return () => window.removeEventListener(\"keydown\", onKey);\r\n  }, [open, onClose]);\r\n\r\n  if (!open) return null;\r\n\r\n  async function submit(e?: React.FormEvent) {\r\n    e?.preventDefault();\r\n    if (!user) return;\r\n    if (!fullName || typeof fullName !== \"string\") {\r\n      return;\r\n    }\r\n\r\n    setSaving(true);\r\n    try {\r\n      const payload = {\r\n        name: fullName,\r\n        profile: {\r\n          displayName,\r\n          gender,\r\n          countryGeonameId: countryGeonameId || null,\r\n          countryCode: countryCode || null,\r\n          countryName: countryName || null,\r\n          stateGeonameId: stateGeonameId || null,\r\n          stateName: stateName || null,\r\n          language,\r\n          timezone\r\n        }\r\n      };\r\n\r\n      const ok = await onSave(payload);\r\n      // onSave should return boolean indicating success\r\n      if (!ok) {\r\n        // leave modal open; onSave may show errors\r\n      }\r\n    } finally {\r\n      setSaving(false);\r\n    }\r\n  }\r\n\r\n  return ReactDOM.createPortal(\r\n    <div className=\"fixed inset-0 z-50 flex items-center justify-center p-4\">\r\n      <div className=\"absolute inset-0 bg-black/40\" onClick={onClose} aria-hidden />\r\n\r\n      <div className=\"relative z-10 w-full max-w-2xl bg-white rounded-2xl p-6 shadow-lg border\">\r\n        <div className=\"flex items-start justify-between gap-4\">\r\n          <div>\r\n            <h3 className=\"text-lg font-semibold\">Edit profile</h3>\r\n            <p className=\"text-sm text-slate-600 mt-1\">Email is read-only. Update other profile fields and save.</p>\r\n          </div>\r\n          <div>\r\n            <button onClick={onClose} className=\"text-slate-500 hover:text-slate-700\">âœ•</button>\r\n          </div>\r\n        </div>\r\n\r\n        <form className=\"mt-6 space-y-4\" onSubmit={submit}>\r\n          <div className=\"grid grid-cols-1 sm:grid-cols-2 gap-4\">\r\n\r\n            <div>\r\n              <label className=\"text-xs text-slate-600 block\">Full name</label>\r\n              <input\r\n                className=\"mt-1 w-full rounded-lg border px-3 py-2\"\r\n                value={fullName}\r\n                onChange={(e) => setFullName(e.target.value)}\r\n                required\r\n              />\r\n            </div>\r\n\r\n            <div>\r\n              <label className=\"text-xs text-slate-600 block\">Display name</label>\r\n              <input\r\n                className=\"mt-1 w-full rounded-lg border px-3 py-2\"\r\n                value={displayName}\r\n                onChange={(e) => setDisplayName(e.target.value)}\r\n              />\r\n            </div>\r\n\r\n            <div>\r\n              <label className=\"text-xs text-slate-600 block\">Email (read-only)</label>\r\n              <input className=\"mt-1 w-full rounded-lg border px-3 py-2 bg-slate-50\" value={user?.email ?? \"\"} readOnly />\r\n            </div>\r\n\r\n            <div>\r\n              <label className=\"text-xs text-slate-600 block\">Gender</label>\r\n              <select className=\"mt-1 w-full rounded-lg border px-3 py-2\" value={gender} onChange={(e) => setGender(e.target.value)}>\r\n                <option value=\"\">Prefer not to say</option>\r\n                <option value=\"female\">Female</option>\r\n                <option value=\"male\">Male</option>\r\n                <option value=\"other\">Other</option>\r\n              </select>\r\n            </div>\r\n\r\n            <div>\r\n              <label className=\"text-xs text-slate-600 block\">Country/Region</label>\r\n              <select\r\n                value={countryGeonameId || \"\"}\r\n                onChange={(e) => {\r\n                  const val = e.target.value;\r\n                  setCountryGeonameId(val ? Number(val) : \"\");\r\n                  // reset states selection when country changes\r\n                  setStateGeonameId(\"\");\r\n                  setStateName(\"\");\r\n                }}\r\n                className=\"mt-1 w-full rounded-lg border px-3 py-2\"\r\n              >\r\n                <option value=\"\">Select Country</option>\r\n                {loadingCountries ? (\r\n                  <option value=\"\">Loading countries...</option>\r\n                ) : (\r\n                  countries.map((c) => (\r\n                    <option key={c.geonameId} value={c.geonameId}>\r\n                      {c.countryName} ({c.countryCode})\r\n                    </option>\r\n                  ))\r\n                )}\r\n              </select>\r\n            </div>\r\n\r\n            <div>\r\n              <label className=\"text-xs text-slate-600 block\">State</label>\r\n              <select\r\n                value={stateGeonameId || \"\"}\r\n                onChange={(e) => {\r\n                  const val = e.target.value;\r\n                  setStateGeonameId(val ? Number(val) : \"\");\r\n                  const found = states.find((s) => s.geonameId === Number(val));\r\n                  setStateName(found ? found.name : \"\");\r\n                }}\r\n                className=\"mt-1 w-full rounded-lg border px-3 py-2\"\r\n                disabled={!countryGeonameId || loadingStates || states.length === 0}\r\n              >\r\n                <option value=\"\">{countryGeonameId ? (loadingStates ? \"Loading states...\" : \"Select State\") : \"Select Country First\"}</option>\r\n                {states.map((s) => (\r\n                  <option key={s.geonameId} value={s.geonameId}>\r\n                    {s.name}\r\n                  </option>\r\n                ))}\r\n              </select>\r\n            </div>\r\n\r\n            <div>\r\n              <label className=\"text-xs text-slate-600 block\">Language</label>\r\n              <input value={language} onChange={(e) => setLanguage(e.target.value)} className=\"mt-1 w-full rounded-lg border px-3 py-2\" />\r\n            </div>\r\n\r\n            <div>\r\n              <label className=\"text-xs text-slate-600 block\">Time zone</label>\r\n              <select value={timezone} onChange={(e) => setTimezone(e.target.value)} className=\"mt-1 w-full rounded-lg border px-3 py-2\">\r\n                <option value=\"\">Select timezone</option>\r\n                {TIMEZONES_38.map((tz) => (\r\n                  <option key={tz} value={tz}>\r\n                    {tz}\r\n                  </option>\r\n                ))}\r\n              </select>\r\n            </div>\r\n          </div>\r\n\r\n          <div className=\"flex justify-end gap-3 mt-2\">\r\n            <button type=\"button\" onClick={onClose} className=\"px-4 py-2 rounded-lg border\">Cancel</button>\r\n            <button ref={primaryRef} type=\"submit\" disabled={saving} className=\"px-4 py-2 rounded-lg bg-blue-600 text-white\">\r\n              {saving ? \"Saving...\" : \"Save changes\"}\r\n            </button>\r\n          </div>\r\n        </form>\r\n      </div>\r\n    </div>,\r\n    document.body\r\n  );\r\n}\r\n"],"names":[],"mappings":"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","debugId":null}},
    {"offset": {"line": 698, "column": 0}, "map": {"version":3,"sources":["file:///E:/SignalHub/frontend/src/components/modals/ConfirmModal.tsx"],"sourcesContent":["\"use client\";\r\n\r\nimport React, { useEffect, useRef } from \"react\";\r\nimport ReactDOM from \"react-dom\";\r\n\r\ntype ConfirmModalProps = {\r\n  open: boolean;\r\n  title?: string;\r\n  message?: string;\r\n  confirmLabel?: string;\r\n  cancelLabel?: string;\r\n  onConfirm: () => Promise<void> | void;\r\n  onCancel: () => void;\r\n};\r\n\r\nexport default function ConfirmModal({\r\n  open,\r\n  title = \"Confirm\",\r\n  message = \"Are you sure?\",\r\n  confirmLabel = \"Yes\",\r\n  cancelLabel = \"Cancel\",\r\n  onConfirm,\r\n  onCancel,\r\n}: ConfirmModalProps) {\r\n  const ref = useRef<HTMLDivElement | null>(null);\r\n  const primaryBtnRef = useRef<HTMLButtonElement | null>(null);\r\n\r\n  // prevent background scroll\r\n  useEffect(() => {\r\n    if (!open) return;\r\n    const prev = document.body.style.overflow;\r\n    document.body.style.overflow = \"hidden\";\r\n    primaryBtnRef.current?.focus();\r\n    return () => {\r\n      document.body.style.overflow = prev;\r\n    };\r\n  }, [open]);\r\n\r\n  // close on ESC\r\n  useEffect(() => {\r\n    function onKey(e: KeyboardEvent) {\r\n      if (e.key === \"Escape\") onCancel();\r\n    }\r\n    if (open) window.addEventListener(\"keydown\", onKey);\r\n    return () => window.removeEventListener(\"keydown\", onKey);\r\n  }, [open, onCancel]);\r\n\r\n  if (!open) return null;\r\n\r\n  return ReactDOM.createPortal(\r\n    <div\r\n      role=\"dialog\"\r\n      aria-modal=\"true\"\r\n      aria-labelledby=\"confirm-title\"\r\n      className=\"fixed inset-0 z-50 flex items-center justify-center p-4\"\r\n    >\r\n      <div\r\n        className=\"absolute inset-0 bg-black/40 backdrop-blur-sm\"\r\n        onClick={onCancel}\r\n        aria-hidden\r\n      />\r\n      <div\r\n        ref={ref}\r\n        className=\"relative z-10 max-w-lg w-full bg-white rounded-2xl shadow-xl border p-6\"\r\n      >\r\n        <h3 id=\"confirm-title\" className=\"text-lg font-semibold text-slate-900\">\r\n          {title}\r\n        </h3>\r\n        <p className=\"mt-2 text-sm text-slate-600\">{message}</p>\r\n\r\n        <div className=\"mt-6 flex justify-end gap-3\">\r\n          <button\r\n            onClick={onCancel}\r\n            className=\"px-4 py-2 rounded-lg border text-sm text-slate-700 hover:bg-slate-50\"\r\n          >\r\n            {cancelLabel}\r\n          </button>\r\n          <button\r\n            ref={primaryBtnRef}\r\n            onClick={() => void onConfirm()}\r\n            className=\"px-4 py-2 rounded-lg bg-red-600 text-white text-sm hover:opacity-95\"\r\n          >\r\n            {confirmLabel}\r\n          </button>\r\n        </div>\r\n      </div>\r\n    </div>,\r\n    document.body\r\n  );\r\n}\r\n"],"names":[],"mappings":";;;;;AAEA;AACA;AAHA;;;;AAee,SAAS,aAAa,EACnC,IAAI,EACJ,QAAQ,SAAS,EACjB,UAAU,eAAe,EACzB,eAAe,KAAK,EACpB,cAAc,QAAQ,EACtB,SAAS,EACT,QAAQ,EACU;IAClB,MAAM,MAAM,IAAA,+MAAM,EAAwB;IAC1C,MAAM,gBAAgB,IAAA,+MAAM,EAA2B;IAEvD,4BAA4B;IAC5B,IAAA,kNAAS,EAAC;QACR,IAAI,CAAC,MAAM;QACX,MAAM,OAAO,SAAS,IAAI,CAAC,KAAK,CAAC,QAAQ;QACzC,SAAS,IAAI,CAAC,KAAK,CAAC,QAAQ,GAAG;QAC/B,cAAc,OAAO,EAAE;QACvB,OAAO;YACL,SAAS,IAAI,CAAC,KAAK,CAAC,QAAQ,GAAG;QACjC;IACF,GAAG;QAAC;KAAK;IAET,eAAe;IACf,IAAA,kNAAS,EAAC;QACR,SAAS,MAAM,CAAgB;YAC7B,IAAI,EAAE,GAAG,KAAK,UAAU;QAC1B;QACA,IAAI,MAAM,OAAO,gBAAgB,CAAC,WAAW;QAC7C,OAAO,IAAM,OAAO,mBAAmB,CAAC,WAAW;IACrD,GAAG;QAAC;QAAM;KAAS;IAEnB,IAAI,CAAC,MAAM,OAAO;IAElB,qBAAO,uNAAQ,CAAC,YAAY,eAC1B,8OAAC;QACC,MAAK;QACL,cAAW;QACX,mBAAgB;QAChB,WAAU;;0BAEV,8OAAC;gBACC,WAAU;gBACV,SAAS;gBACT,aAAW;;;;;;0BAEb,8OAAC;gBACC,KAAK;gBACL,WAAU;;kCAEV,8OAAC;wBAAG,IAAG;wBAAgB,WAAU;kCAC9B;;;;;;kCAEH,8OAAC;wBAAE,WAAU;kCAA+B;;;;;;kCAE5C,8OAAC;wBAAI,WAAU;;0CACb,8OAAC;gCACC,SAAS;gCACT,WAAU;0CAET;;;;;;0CAEH,8OAAC;gCACC,KAAK;gCACL,SAAS,IAAM,KAAK;gCACpB,WAAU;0CAET;;;;;;;;;;;;;;;;;;;;;;;cAKT,SAAS,IAAI;AAEjB","debugId":null}},
    {"offset": {"line": 817, "column": 0}, "map": {"version":3,"sources":["file:///E:/SignalHub/frontend/src/components/profile/ProfileMenu.tsx"],"sourcesContent":["\"use client\";\r\n\r\nimport React, { useEffect, useRef, useState } from \"react\";\r\nimport { useRouter } from \"next/navigation\";\r\nimport ConfirmModal from \"../modals/ConfirmModal\";\r\n\r\nexport default function ProfileMenu({ avatarUrl, email }: { avatarUrl?: string; email?: string }) {\r\n  const router = useRouter();\r\n  const [open, setOpen] = useState(false);\r\n  const [confirmOpen, setConfirmOpen] = useState(false);\r\n  const [loggingOut, setLoggingOut] = useState(false);\r\n  const menuRef = useRef<HTMLDivElement | null>(null);\r\n\r\n  // close on outside click\r\n  useEffect(() => {\r\n    function onDocClick(e: MouseEvent) {\r\n      if (!menuRef.current) return;\r\n      if (!(e.target instanceof Node)) return;\r\n      if (!menuRef.current.contains(e.target)) setOpen(false);\r\n    }\r\n    document.addEventListener(\"mousedown\", onDocClick);\r\n    return () => document.removeEventListener(\"mousedown\", onDocClick);\r\n  }, []);\r\n\r\n  // keyboard support\r\n  useEffect(() => {\r\n    function onKey(e: KeyboardEvent) {\r\n      if (e.key === \"Escape\") setOpen(false);\r\n    }\r\n    if (open) window.addEventListener(\"keydown\", onKey);\r\n    return () => window.removeEventListener(\"keydown\", onKey);\r\n  }, [open]);\r\n\r\n  async function handleLogout() {\r\n    try {\r\n      setLoggingOut(true);\r\n      const res = await fetch(\"/api/auth/logout\", { method: \"POST\" });\r\n      // ignore body; route clears cookie\r\n      setConfirmOpen(false);\r\n      setOpen(false);\r\n      // redirect to login page\r\n      router.replace(\"/auth/login\");\r\n    } catch (err) {\r\n      console.error(\"Logout failed\", err);\r\n      setLoggingOut(false);\r\n      setConfirmOpen(false);\r\n    }\r\n  }\r\n\r\n  return (\r\n    <div className=\"relative\" ref={menuRef}>\r\n      <button\r\n        aria-haspopup=\"menu\"\r\n        aria-expanded={open}\r\n        onClick={() => setOpen((v) => !v)}\r\n        className=\"w-10 h-10 rounded-full bg-slate-100 flex items-center justify-center shadow-sm hover:opacity-95\"\r\n        title=\"Account menu\"\r\n      >\r\n        {avatarUrl ? (\r\n          <img src={avatarUrl} alt=\"avatar\" className=\"w-10 h-10 rounded-full object-cover\" />\r\n        ) : (\r\n          <span className=\"text-sm font-medium text-slate-700\">{(email || \"U\").charAt(0).toUpperCase()}</span>\r\n        )}\r\n      </button>\r\n\r\n      {open && (\r\n        <div\r\n          role=\"menu\"\r\n          aria-label=\"Profile\"\r\n          className=\"absolute right-0 mt-2 w-48 bg-white rounded-xl shadow-lg border py-2 z-20\"\r\n        >\r\n          <button\r\n            role=\"menuitem\"\r\n            onClick={() => {\r\n              setOpen(false);\r\n              router.push(\"/profile\");\r\n            }}\r\n            className=\"w-full text-left px-3 py-2 hover:bg-slate-50 text-sm text-slate-700\"\r\n          >\r\n            View profile\r\n          </button>\r\n\r\n          <button\r\n            role=\"menuitem\"\r\n            onClick={() => {\r\n              setConfirmOpen(true);\r\n            }}\r\n            className=\"w-full text-left px-3 py-2 hover:bg-slate-50 text-sm text-slate-700\"\r\n          >\r\n            Logout\r\n          </button>\r\n        </div>\r\n      )}\r\n\r\n      <ConfirmModal\r\n        open={confirmOpen}\r\n        title=\"Log out?\"\r\n        message=\"Do you want to logout?\"\r\n        confirmLabel={loggingOut ? \"Logging out...\" : \"Yes, log out\"}\r\n        cancelLabel=\"Cancel\"\r\n        onCancel={() => setConfirmOpen(false)}\r\n        onConfirm={async () => {\r\n          await handleLogout();\r\n        }}\r\n      />\r\n    </div>\r\n  );\r\n}\r\n"],"names":[],"mappings":";;;;;AAEA;AACA;AACA;AAJA;;;;;AAMe,SAAS,YAAY,EAAE,SAAS,EAAE,KAAK,EAA0C;IAC9F,MAAM,SAAS,IAAA,+IAAS;IACxB,MAAM,CAAC,MAAM,QAAQ,GAAG,IAAA,iNAAQ,EAAC;IACjC,MAAM,CAAC,aAAa,eAAe,GAAG,IAAA,iNAAQ,EAAC;IAC/C,MAAM,CAAC,YAAY,cAAc,GAAG,IAAA,iNAAQ,EAAC;IAC7C,MAAM,UAAU,IAAA,+MAAM,EAAwB;IAE9C,yBAAyB;IACzB,IAAA,kNAAS,EAAC;QACR,SAAS,WAAW,CAAa;YAC/B,IAAI,CAAC,QAAQ,OAAO,EAAE;YACtB,IAAI,CAAC,CAAC,EAAE,MAAM,YAAY,IAAI,GAAG;YACjC,IAAI,CAAC,QAAQ,OAAO,CAAC,QAAQ,CAAC,EAAE,MAAM,GAAG,QAAQ;QACnD;QACA,SAAS,gBAAgB,CAAC,aAAa;QACvC,OAAO,IAAM,SAAS,mBAAmB,CAAC,aAAa;IACzD,GAAG,EAAE;IAEL,mBAAmB;IACnB,IAAA,kNAAS,EAAC;QACR,SAAS,MAAM,CAAgB;YAC7B,IAAI,EAAE,GAAG,KAAK,UAAU,QAAQ;QAClC;QACA,IAAI,MAAM,OAAO,gBAAgB,CAAC,WAAW;QAC7C,OAAO,IAAM,OAAO,mBAAmB,CAAC,WAAW;IACrD,GAAG;QAAC;KAAK;IAET,eAAe;QACb,IAAI;YACF,cAAc;YACd,MAAM,MAAM,MAAM,MAAM,oBAAoB;gBAAE,QAAQ;YAAO;YAC7D,mCAAmC;YACnC,eAAe;YACf,QAAQ;YACR,yBAAyB;YACzB,OAAO,OAAO,CAAC;QACjB,EAAE,OAAO,KAAK;YACZ,QAAQ,KAAK,CAAC,iBAAiB;YAC/B,cAAc;YACd,eAAe;QACjB;IACF;IAEA,qBACE,8OAAC;QAAI,WAAU;QAAW,KAAK;;0BAC7B,8OAAC;gBACC,iBAAc;gBACd,iBAAe;gBACf,SAAS,IAAM,QAAQ,CAAC,IAAM,CAAC;gBAC/B,WAAU;gBACV,OAAM;0BAEL,0BACC,8OAAC;oBAAI,KAAK;oBAAW,KAAI;oBAAS,WAAU;;;;;yCAE5C,8OAAC;oBAAK,WAAU;8BAAsC,CAAC,SAAS,GAAG,EAAE,MAAM,CAAC,GAAG,WAAW;;;;;;;;;;;YAI7F,sBACC,8OAAC;gBACC,MAAK;gBACL,cAAW;gBACX,WAAU;;kCAEV,8OAAC;wBACC,MAAK;wBACL,SAAS;4BACP,QAAQ;4BACR,OAAO,IAAI,CAAC;wBACd;wBACA,WAAU;kCACX;;;;;;kCAID,8OAAC;wBACC,MAAK;wBACL,SAAS;4BACP,eAAe;wBACjB;wBACA,WAAU;kCACX;;;;;;;;;;;;0BAML,8OAAC,uJAAY;gBACX,MAAM;gBACN,OAAM;gBACN,SAAQ;gBACR,cAAc,aAAa,mBAAmB;gBAC9C,aAAY;gBACZ,UAAU,IAAM,eAAe;gBAC/B,WAAW;oBACT,MAAM;gBACR;;;;;;;;;;;;AAIR","debugId":null}},
    {"offset": {"line": 966, "column": 0}, "map": {"version":3,"sources":["file:///E:/SignalHub/frontend/src/app/profile/page.tsx"],"sourcesContent":["\"use client\";\r\n\r\nimport React, { useEffect, useState } from \"react\";\r\nimport Link from \"next/link\";\r\nimport { useRouter } from \"next/navigation\";\r\nimport EditProfileModal from \"@/components/profile/EditProfile\";\r\nimport ProfileMenu from \"@/components/profile/ProfileMenu\";\r\n\r\ntype Profile = {\r\n  displayName?: string;\r\n  gender?: string;\r\n  country?: string;\r\n  state?: string;\r\n  language?: string;\r\n  timezone?: string;\r\n  avatarUrl?: string;\r\n};\r\n\r\ntype User = {\r\n  id: string;\r\n  email: string;\r\n  name?: string;\r\n  role?: string;\r\n  profile?: Profile | any;\r\n  updatedAt?: string; // ISO timestamp from server\r\n};\r\n\r\nexport default function ProfilePage() {\r\n  const router = useRouter();\r\n  const [user, setUser] = useState<User | null>(null);\r\n  const [loading, setLoading] = useState(true);\r\n  const [editOpen, setEditOpen] = useState(false);\r\n  const [activity, setActivity] = useState<{ logins30d: number; changes30d: number } | null>(null);\r\n\r\n  useEffect(() => {\r\n    let mounted = true;\r\n    const ac = new AbortController();\r\n\r\n    fetch(\"/api/me\", { signal: ac.signal })\r\n      .then(async (res) => {\r\n        if (!res.ok) return null;\r\n        const json = await res.json();\r\n        return json ?? null;\r\n      })\r\n      .then((j) => {\r\n        if (!mounted || !j) return;\r\n        setUser(j.user ?? null);\r\n        setActivity(j.activity ?? null);\r\n      })\r\n      .catch((err) => {\r\n        if (err.name === \"AbortError\") return;\r\n        setUser(null);\r\n        setActivity(null);\r\n      })\r\n      .finally(() => {\r\n        if (mounted) setLoading(false);\r\n      });\r\n\r\n    return () => {\r\n      mounted = false;\r\n      ac.abort();\r\n    };\r\n  }, []);\r\n\r\n  // helper: compute relative time label for updatedAt\r\n  function formatRelativeTime(iso?: string | null) {\r\n    if (!iso) return \"â€”\";\r\n    const then = new Date(iso).getTime();\r\n    if (isNaN(then)) return \"â€”\";\r\n    const diffMs = Date.now() - then;\r\n    const diffMins = Math.floor(diffMs / 60000);\r\n\r\n    if (diffMins < 1) return \"just now\";\r\n    if (diffMins < 60) return `${diffMins}m ago`;\r\n\r\n    const diffHours = Math.floor(diffMins / 60);\r\n    if (diffHours < 24) return `${diffHours}h ago`;\r\n\r\n    const diffDays = Math.floor(diffHours / 24);\r\n    return `${diffDays}d ago`;\r\n  }\r\n\r\n  async function handleSave(updated: Partial<User & { profile?: any }>) {\r\n    const prev = user;\r\n    setUser((prevU) => (prevU ? { ...prevU, ...updated } : prevU));\r\n\r\n    try {\r\n      const res = await fetch(\"/api/me\", {\r\n        method: \"PATCH\",\r\n        headers: { \"Content-Type\": \"application/json\" },\r\n        body: JSON.stringify(updated),\r\n      });\r\n\r\n      if (!res.ok) {\r\n        const txt = await res.text();\r\n        console.error(\"Save failed:\", txt);\r\n        setUser(prev ?? null);\r\n        return false;\r\n      }\r\n\r\n      const json = await res.json();\r\n      if (json?.user) setUser(json.user);\r\n      if (json?.activity) setActivity(json.activity);\r\n      return true;\r\n    } catch (err) {\r\n      console.error(err);\r\n      setUser(prev ?? null);\r\n      return false;\r\n    }\r\n  }\r\n\r\n  if (loading) return <div className=\"p-6\">Loading...</div>;\r\n  if (!user) return <div className=\"p-6\">Not logged in</div>;\r\n\r\n  const profile = (user.profile ?? {}) as Profile;\r\n  const role = user?.role?.toString()?.toUpperCase() ?? \"VIEWER\";\r\n  const lastUpdatedLabel = formatRelativeTime(user.updatedAt ?? profile?.updatedAt ?? null);\r\n\r\n  return (\r\n    <main className=\"min-h-screen bg-gradient-to-b from-slate-50 via-white to-slate-50\">\r\n      <div className=\"max-w-7xl mx-auto px-6 py-8\">\r\n        {/* Header */}\r\n        <div className=\"flex items-center justify-between mb-6\">\r\n          <div className=\"flex items-center gap-4\">\r\n            <div className=\"h-12 w-12 rounded-xl bg-gradient-to-br from-blue-600 to-indigo-600 flex items-center justify-center shadow-md\">\r\n              <svg width=\"26\" height=\"26\" viewBox=\"0 0 24 24\" fill=\"none\" aria-hidden>\r\n                <path d=\"M3 12h18\" stroke=\"white\" strokeWidth=\"2\" strokeLinecap=\"round\" />\r\n                <path d=\"M7 6v12\" stroke=\"white\" strokeWidth=\"2\" strokeLinecap=\"round\" />\r\n              </svg>\r\n            </div>\r\n            <div>\r\n              <div className=\"text-lg font-semibold text-slate-900\">Profile</div>\r\n              <div className=\"text-xs text-slate-500\">Manage your personal details and contact info</div>\r\n            </div>\r\n          </div>\r\n\r\n          <div className=\"flex items-center gap-4\">\r\n            <div className=\"hidden sm:inline-flex items-center gap-2 rounded-full px-3 py-1 bg-slate-100 text-slate-800 text-sm\">\r\n              <strong className=\"uppercase\">{role}</strong>\r\n              <span className=\"text-xs text-slate-600\">access</span>\r\n            </div>\r\n\r\n            <ProfileMenu email={user.email} avatarUrl={profile.avatarUrl} />\r\n          </div>\r\n        </div>\r\n\r\n        <div className=\"grid grid-cols-1 lg:grid-cols-12 gap-6\">\r\n          {/* Left column: profile card + contacts */}\r\n          <div className=\"lg:col-span-8\">\r\n            <section className=\"bg-white/60 backdrop-blur-md rounded-3xl p-8 shadow-lg border border-slate-100\">\r\n              <div className=\"flex items-start gap-6\">\r\n                <div className=\"w-24 h-24 rounded-full overflow-hidden bg-slate-100 flex items-center justify-center\">\r\n                  {profile?.avatarUrl ? (\r\n                    // eslint-disable-next-line @next/next/no-img-element\r\n                    <img src={profile.avatarUrl} alt=\"avatar\" className=\"w-full h-full object-cover\" />\r\n                  ) : (\r\n                    <div className=\"text-3xl font-semibold text-slate-700\">{(user.name || user.email || \"U\").charAt(0).toUpperCase()}</div>\r\n                  )}\r\n                </div>\r\n\r\n                <div className=\"flex-1\">\r\n                  <div className=\"flex items-center gap-4\">\r\n                    <div>\r\n                      <h1 className=\"text-2xl font-bold text-slate-900\">{user.name ?? \"â€”\"}</h1>\r\n                      <div className=\"text-sm text-slate-500\">{user.email}</div>\r\n                    </div>\r\n\r\n                    <div className=\"ml-auto flex items-center gap-3\">\r\n                      <button onClick={() => setEditOpen(true)} className=\"px-4 py-2 rounded-lg bg-blue-700 text-white shadow hover:opacity-95\">\r\n                        Edit\r\n                      </button>\r\n                      <Link href=\"/settings\" className=\"px-3 py-2 rounded-lg border text-slate-700 hover:bg-slate-50\">\r\n                        Settings\r\n                      </Link>\r\n                    </div>\r\n                  </div>\r\n\r\n                  <div className=\"mt-4 text-xs text-slate-500\">Last profile update: <span className=\"font-medium text-slate-700\">{lastUpdatedLabel}</span></div>\r\n\r\n                  <div className=\"mt-6 grid grid-cols-2 gap-4 text-sm text-slate-600\">\r\n                    <div>\r\n                      <div className=\"text-xs text-slate-400\">Full Name</div>\r\n                      <div className=\"mt-1\">{user.name ?? \"â€”\"}</div>\r\n                    </div>\r\n                    <div>\r\n                      <div className=\"text-xs text-slate-400\">Display Name</div>\r\n                      <div className=\"mt-1\">{profile.displayName ?? user.name ?? \"â€”\"}</div>\r\n                    </div>\r\n\r\n                    <div>\r\n                      <div className=\"text-xs text-slate-400\">Gender</div>\r\n                      <div className=\"mt-1\">{profile.gender ?? \"I'd prefer not to say\"}</div>\r\n                    </div>\r\n\r\n                    <div>\r\n                      <div className=\"text-xs text-slate-400\">Country/Region</div>\r\n                      <div className=\"mt-1\">{profile.country ?? \"â€”\"}</div>\r\n                    </div>\r\n\r\n                    <div>\r\n                      <div className=\"text-xs text-slate-400\">State</div>\r\n                      <div className=\"mt-1\">{profile.state ?? \"â€”\"}</div>\r\n                    </div>\r\n\r\n                    <div>\r\n                      <div className=\"text-xs text-slate-400\">Language</div>\r\n                      <div className=\"mt-1\">{profile.language ?? \"English\"}</div>\r\n                    </div>\r\n\r\n                    <div className=\"col-span-2\">\r\n                      <div className=\"text-xs text-slate-400\">Time zone</div>\r\n                      <div className=\"mt-1 text-sm text-slate-600\">{profile.timezone ?? \"(GMT +05:30) India Standard Time (Asia/Kolkata)\"}</div>\r\n                    </div>\r\n                  </div>\r\n                </div>\r\n              </div>\r\n\r\n              <div className=\"mt-6\">\r\n                <h3 className=\"text-sm font-semibold text-slate-700 mb-2\">About</h3>\r\n                <p className=\"text-sm text-slate-600\">Use this profile page to keep your contact details up to date. Your name, display name and timezone are used across the app for messaging and notifications.</p>\r\n              </div>\r\n            </section>\r\n\r\n            <section className=\"mt-6 bg-white rounded-3xl p-6 shadow border border-slate-100\">\r\n              <h2 className=\"text-lg font-semibold mb-2\">My Email Addresses</h2>\r\n              <p className=\"text-sm text-slate-500 mb-4\">View and manage the email addresses associated with your account.</p>\r\n\r\n              <div className=\"border rounded-lg p-4\">\r\n                <div className=\"flex items-center justify-between\">\r\n                  <div className=\"flex items-center gap-3\">\r\n                    <div className=\"w-10 h-10 rounded-full bg-rose-100 flex items-center justify-center text-rose-600\">ðŸ“§</div>\r\n                    <div>\r\n                      <div className=\"font-medium\">{user.email}</div>\r\n                      <div className=\"text-xs text-slate-400\">primary â€¢ added 6 months ago</div>\r\n                    </div>\r\n                  </div>\r\n\r\n                  <div className=\"flex items-center gap-3\">\r\n                    <button className=\"px-3 py-2 text-sm rounded bg-slate-50\">Make primary</button>\r\n                    <button className=\"px-3 py-2 text-sm text-blue-600\">+ Add Email Address</button>\r\n                  </div>\r\n                </div>\r\n              </div>\r\n            </section>\r\n\r\n            <section className=\"mt-6 bg-white rounded-3xl p-6 shadow border border-slate-100\">\r\n              <h2 className=\"text-lg font-semibold mb-2\">My Mobile Numbers</h2>\r\n              <p className=\"text-sm text-slate-500 mb-4\">View and manage all of the mobile numbers associated with your account.</p>\r\n\r\n              <div className=\"border rounded-lg p-4\">\r\n                <div className=\"flex items-center justify-between\">\r\n                  <div className=\"flex items-center gap-3\">\r\n                    <div className=\"w-10 h-10 rounded-full bg-amber-100 flex items-center justify-center text-amber-600\">ðŸ“ž</div>\r\n                    <div>\r\n                      <div className=\"font-medium\">+91 85977 86209</div>\r\n                      <div className=\"text-xs text-slate-400\">verified â€¢ added 6 months ago</div>\r\n                    </div>\r\n                  </div>\r\n\r\n                  <div className=\"flex items-center gap-3\">\r\n                    <button className=\"px-3 py-2 text-sm rounded bg-slate-50\">Verify</button>\r\n                    <button className=\"px-3 py-2 text-sm text-blue-600\">+ Add Mobile Number</button>\r\n                  </div>\r\n                </div>\r\n              </div>\r\n            </section>\r\n          </div>\r\n\r\n          {/* Right column: analytics + quick actions */}\r\n          <aside className=\"lg:col-span-4 space-y-4\">\r\n            <div className=\"bg-white rounded-2xl p-4 shadow-sm border border-slate-100\">\r\n              <div className=\"flex items-center justify-between\">\r\n                <h3 className=\"text-sm font-semibold text-slate-700\">Profile Activity (30 days)</h3>\r\n                <span className=\"text-xs text-slate-500\">Updated just now</span>\r\n              </div>\r\n\r\n              <div className=\"mt-3\">\r\n                <div className=\"flex items-end gap-6\">\r\n                  <div>\r\n                    <div className=\"text-2xl font-bold\">{activity ? activity.logins30d : \"â€”\"}</div>\r\n                    <div className=\"text-xs text-slate-500\">Logins (30d)</div>\r\n                  </div>\r\n                  <div>\r\n                    <div className=\"text-2xl font-bold\">{activity ? activity.changes30d : \"â€”\"}</div>\r\n                    <div className=\"text-xs text-slate-500\">Profile changes (30d)</div>\r\n                  </div>\r\n                </div>\r\n              </div>\r\n            </div>\r\n\r\n            <div className=\"bg-white rounded-2xl p-4 shadow-sm border border-slate-100\">\r\n              <h4 className=\"text-sm font-semibold text-slate-700 mb-2\">Quick actions</h4>\r\n              <div className=\"flex flex-col gap-2\">\r\n                <button className=\"text-left px-3 py-2 rounded-lg bg-slate-50\" onClick={() => router.push('/inbox')}>Open Inbox</button>\r\n                <Link className=\"text-left px-3 py-2 rounded-lg bg-slate-50\" href=\"/settings\">Settings & Integrations</Link>\r\n                <Link className=\"text-left px-3 py-2 rounded-lg bg-slate-50\" href=\"/security\">Security</Link>\r\n              </div>\r\n            </div>\r\n\r\n            <div className=\"text-center text-sm text-slate-500\">Built for the Attack Capital assignment â€” profile management UI.</div>\r\n          </aside>\r\n        </div>\r\n      </div>\r\n\r\n      <EditProfileModal\r\n        open={editOpen}\r\n        onClose={() => setEditOpen(false)}\r\n        user={user}\r\n        onSave={async (payload) => {\r\n          const ok = await handleSave(payload);\r\n          if (ok) setEditOpen(false);\r\n          return ok;\r\n        }}\r\n      />\r\n    </main>\r\n  );\r\n}\r\n"],"names":[],"mappings":"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","debugId":null}}]
}