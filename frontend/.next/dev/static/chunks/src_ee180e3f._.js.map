{
  "version": 3,
  "sources": [],
  "sections": [
    {"offset": {"line": 4, "column": 0}, "map": {"version":3,"sources":["E:/SignalHub/frontend/src/components/profile/EditProfile.tsx"],"sourcesContent":["// components/profile/EditProfile.tsx\r\n\"use client\";\r\n\r\nimport React, { useEffect, useRef, useState } from \"react\";\r\nimport ReactDOM from \"react-dom\";\r\n\r\nconst GEONAMES_USERNAME = \"sankha\"; // <-- replace this\r\n\r\n// 38 timezones (UTC offset - label). You can edit labels if desired.\r\nconst TIMEZONES_38 = [\r\n  \"UTC-12:00 - Baker Island\",\r\n  \"UTC-11:00 - Niue / American Samoa\",\r\n  \"UTC-10:00 - Hawaii-Aleutian Standard Time\",\r\n  \"UTC-09:00 - Alaska Standard Time\",\r\n  \"UTC-08:00 - Pacific Standard Time\",\r\n  \"UTC-07:00 - Mountain Standard Time\",\r\n  \"UTC-06:00 - Central Standard Time\",\r\n  \"UTC-05:00 - Eastern Standard Time\",\r\n  \"UTC-04:00 - Atlantic Standard Time\",\r\n  \"UTC-03:30 - Newfoundland Standard Time\",\r\n  \"UTC-03:00 - Argentina / Brasilia\",\r\n  \"UTC-02:00 - South Georgia Time\",\r\n  \"UTC-01:00 - Azores\",\r\n  \"UTC+00:00 - Greenwich Mean Time\",\r\n  \"UTC+01:00 - Central European Time\",\r\n  \"UTC+02:00 - Eastern European Time\",\r\n  \"UTC+03:00 - Moscow / Arabia\",\r\n  \"UTC+03:30 - Iran Standard Time\",\r\n  \"UTC+04:00 - Azerbaijan / UAE\",\r\n  \"UTC+04:30 - Afghanistan\",\r\n  \"UTC+05:00 - Pakistan Standard Time\",\r\n  \"UTC+05:30 - India Standard Time\",\r\n  \"UTC+05:45 - Nepal Time\",\r\n  \"UTC+06:00 - Bangladesh / Bhutan\",\r\n  \"UTC+06:30 - Cocos / Myanmar\",\r\n  \"UTC+07:00 - Indochina Time\",\r\n  \"UTC+08:00 - China / Singapore\",\r\n  \"UTC+09:00 - Japan / Korea\",\r\n  \"UTC+09:30 - Australian Central Standard Time\",\r\n  \"UTC+10:00 - Australian Eastern Standard Time\",\r\n  \"UTC+10:30 - Lord Howe\",\r\n  \"UTC+11:00 - Solomon Is. / New Caledonia\",\r\n  \"UTC+12:00 - Fiji / New Zealand\",\r\n  \"UTC+12:45 - Chatham Islands\",\r\n  \"UTC+13:00 - Tonga / Phoenix Is.\",\r\n  \"UTC+14:00 - Line Islands\"\r\n];\r\n\r\ntype CountryEntry = {\r\n  geonameId: number;\r\n  countryName: string;\r\n  countryCode: string;\r\n};\r\n\r\ntype StateEntry = {\r\n  geonameId: number;\r\n  name: string;\r\n};\r\n\r\ntype User = {\r\n  id: string;\r\n  email: string;\r\n  name?: string | null;\r\n  profile?: any;\r\n};\r\n\r\ntype Props = {\r\n  open: boolean;\r\n  onClose: () => void;\r\n  user: User | null;\r\n  onSave: (payload: Partial<User & { profile?: any }>) => Promise<boolean> | boolean;\r\n};\r\n\r\nexport default function EditProfile({ open, onClose, user, onSave }: Props) {\r\n  const [saving, setSaving] = useState(false);\r\n\r\n  // form fields\r\n  const [fullName, setFullName] = useState(\"\");\r\n  const [displayName, setDisplayName] = useState(\"\");\r\n  const [gender, setGender] = useState(\"\");\r\n  const [countryGeonameId, setCountryGeonameId] = useState<number | \"\">(\"\");\r\n  const [countryCode, setCountryCode] = useState(\"\");\r\n  const [countryName, setCountryName] = useState(\"\");\r\n  const [stateGeonameId, setStateGeonameId] = useState<number | \"\">(\"\");\r\n  const [stateName, setStateName] = useState(\"\");\r\n  const [language, setLanguage] = useState(\"\");\r\n  const [timezone, setTimezone] = useState(\"\");\r\n\r\n  // lists + loading flags\r\n  const [countries, setCountries] = useState<CountryEntry[]>([]);\r\n  const [states, setStates] = useState<StateEntry[]>([]);\r\n  const [loadingCountries, setLoadingCountries] = useState(false);\r\n  const [loadingStates, setLoadingStates] = useState(false);\r\n\r\n  const primaryRef = useRef<HTMLButtonElement | null>(null);\r\n\r\n  // load values from user whenever modal opens or user changes\r\n  useEffect(() => {\r\n    if (!user) return;\r\n    setFullName(user.name ?? \"\");\r\n    const p = user.profile ?? {};\r\n    setDisplayName(p.displayName ?? \"\");\r\n    setGender(p.gender ?? \"\");\r\n    setCountryCode(p.countryCode ?? \"\");\r\n    setCountryName(p.countryName ?? \"\");\r\n    setLanguage(p.language ?? \"\");\r\n    setTimezone(p.timezone ?? \"\");\r\n    // If user has saved geoname ids, use them (if present)\r\n    if (p.countryGeonameId) setCountryGeonameId(p.countryGeonameId);\r\n    if (p.stateGeonameId) setStateGeonameId(p.stateGeonameId);\r\n    if (p.stateName) setStateName(p.stateName);\r\n  }, [user, open]);\r\n\r\n  // fetch countries on mount (with simple sessionStorage caching)\r\n  useEffect(() => {\r\n    let mounted = true;\r\n    async function loadCountries() {\r\n      setLoadingCountries(true);\r\n      try {\r\n        const cached = sessionStorage.getItem(\"geonames_countries_v1\");\r\n        if (cached) {\r\n          const parsed: CountryEntry[] = JSON.parse(cached);\r\n          if (mounted) setCountries(parsed);\r\n          setLoadingCountries(false);\r\n          return;\r\n        }\r\n\r\n        const res = await fetch(`http://api.geonames.org/countryInfoJSON?username=${GEONAMES_USERNAME}`);\r\n        if (!res.ok) throw new Error(\"Failed to fetch countries from GeoNames\");\r\n        const json = await res.json();\r\n        const list: CountryEntry[] = (json.geonames || []).map((c: any) => ({\r\n          geonameId: c.geonameId,\r\n          countryName: c.countryName,\r\n          countryCode: c.countryCode\r\n        }));\r\n        sessionStorage.setItem(\"geonames_countries_v1\", JSON.stringify(list));\r\n        if (mounted) setCountries(list);\r\n      } catch (err) {\r\n        console.error(\"Error loading countries:\", err);\r\n      } finally {\r\n        if (mounted) setLoadingCountries(false);\r\n      }\r\n    }\r\n    loadCountries();\r\n    return () => { mounted = false; };\r\n  }, []);\r\n\r\n  // when a countryGeonameId is selected, fetch its children (states) from GeoNames\r\n  useEffect(() => {\r\n    let mounted = true;\r\n    async function loadStates() {\r\n      if (!countryGeonameId) {\r\n        setStates([]);\r\n        setStateGeonameId(\"\");\r\n        setStateName(\"\");\r\n        return;\r\n      }\r\n      setLoadingStates(true);\r\n      setStates([]);\r\n      try {\r\n        const res = await fetch(`http://api.geonames.org/childrenJSON?geonameId=${countryGeonameId}&username=${GEONAMES_USERNAME}`);\r\n        if (!res.ok) throw new Error(\"Failed to fetch states from GeoNames\");\r\n        const json = await res.json();\r\n        const st: StateEntry[] = (json.geonames || []).map((g: any) => ({\r\n          geonameId: g.geonameId,\r\n          name: g.name\r\n        }));\r\n        if (mounted) {\r\n          setStates(st);\r\n          setLoadingStates(false);\r\n        }\r\n      } catch (err) {\r\n        console.error(\"Error loading states:\", err);\r\n        if (mounted) setLoadingStates(false);\r\n      }\r\n    }\r\n\r\n    // set countryCode and countryName from countries list (so we store both)\r\n    if (countryGeonameId) {\r\n      const found = countries.find((c) => c.geonameId === countryGeonameId);\r\n      if (found) {\r\n        setCountryCode(found.countryCode);\r\n        setCountryName(found.countryName);\r\n      }\r\n    } else {\r\n      setCountryCode(\"\");\r\n      setCountryName(\"\");\r\n    }\r\n\r\n    loadStates();\r\n    return () => { mounted = false; };\r\n  }, [countryGeonameId, countries]);\r\n\r\n  // lock scroll & focus primary save button on open\r\n  useEffect(() => {\r\n    if (!open) return;\r\n    const prev = document.body.style.overflow;\r\n    document.body.style.overflow = \"hidden\";\r\n    const t = setTimeout(() => primaryRef.current?.focus(), 80);\r\n    return () => {\r\n      document.body.style.overflow = prev;\r\n      clearTimeout(t);\r\n    };\r\n  }, [open]);\r\n\r\n  // ESC to close\r\n  useEffect(() => {\r\n    function onKey(e: KeyboardEvent) {\r\n      if (e.key === \"Escape\") onClose();\r\n    }\r\n    if (open) window.addEventListener(\"keydown\", onKey);\r\n    return () => window.removeEventListener(\"keydown\", onKey);\r\n  }, [open, onClose]);\r\n\r\n  if (!open) return null;\r\n\r\n  async function submit(e?: React.FormEvent) {\r\n    e?.preventDefault();\r\n    if (!user) return;\r\n    if (!fullName || typeof fullName !== \"string\") {\r\n      return;\r\n    }\r\n\r\n    setSaving(true);\r\n    try {\r\n      const payload = {\r\n        name: fullName,\r\n        profile: {\r\n          displayName,\r\n          gender,\r\n          countryGeonameId: countryGeonameId || null,\r\n          countryCode: countryCode || null,\r\n          countryName: countryName || null,\r\n          stateGeonameId: stateGeonameId || null,\r\n          stateName: stateName || null,\r\n          language,\r\n          timezone\r\n        }\r\n      };\r\n\r\n      const ok = await onSave(payload);\r\n      // onSave should return boolean indicating success\r\n      if (!ok) {\r\n        // leave modal open; onSave may show errors\r\n      }\r\n    } finally {\r\n      setSaving(false);\r\n    }\r\n  }\r\n\r\n  return ReactDOM.createPortal(\r\n    <div className=\"fixed inset-0 z-50 flex items-center justify-center p-4\">\r\n      <div className=\"absolute inset-0 bg-black/40\" onClick={onClose} aria-hidden />\r\n\r\n      <div className=\"relative z-10 w-full max-w-2xl bg-white rounded-2xl p-6 shadow-lg border\">\r\n        <div className=\"flex items-start justify-between gap-4\">\r\n          <div>\r\n            <h3 className=\"text-lg font-semibold\">Edit profile</h3>\r\n            <p className=\"text-sm text-slate-600 mt-1\">Email is read-only. Update other profile fields and save.</p>\r\n          </div>\r\n          <div>\r\n            <button onClick={onClose} className=\"text-slate-500 hover:text-slate-700\">âœ•</button>\r\n          </div>\r\n        </div>\r\n\r\n        <form className=\"mt-6 space-y-4\" onSubmit={submit}>\r\n          <div className=\"grid grid-cols-1 sm:grid-cols-2 gap-4\">\r\n\r\n            <div>\r\n              <label className=\"text-xs text-slate-600 block\">Full name</label>\r\n              <input\r\n                className=\"mt-1 w-full rounded-lg border px-3 py-2\"\r\n                value={fullName}\r\n                onChange={(e) => setFullName(e.target.value)}\r\n                required\r\n              />\r\n            </div>\r\n\r\n            <div>\r\n              <label className=\"text-xs text-slate-600 block\">Display name</label>\r\n              <input\r\n                className=\"mt-1 w-full rounded-lg border px-3 py-2\"\r\n                value={displayName}\r\n                onChange={(e) => setDisplayName(e.target.value)}\r\n              />\r\n            </div>\r\n\r\n            <div>\r\n              <label className=\"text-xs text-slate-600 block\">Email (read-only)</label>\r\n              <input className=\"mt-1 w-full rounded-lg border px-3 py-2 bg-slate-50\" value={user?.email ?? \"\"} readOnly />\r\n            </div>\r\n\r\n            <div>\r\n              <label className=\"text-xs text-slate-600 block\">Gender</label>\r\n              <select className=\"mt-1 w-full rounded-lg border px-3 py-2\" value={gender} onChange={(e) => setGender(e.target.value)}>\r\n                <option value=\"\">Prefer not to say</option>\r\n                <option value=\"female\">Female</option>\r\n                <option value=\"male\">Male</option>\r\n                <option value=\"other\">Other</option>\r\n              </select>\r\n            </div>\r\n\r\n            <div>\r\n              <label className=\"text-xs text-slate-600 block\">Country/Region</label>\r\n              <select\r\n                value={countryGeonameId || \"\"}\r\n                onChange={(e) => {\r\n                  const val = e.target.value;\r\n                  setCountryGeonameId(val ? Number(val) : \"\");\r\n                  // reset states selection when country changes\r\n                  setStateGeonameId(\"\");\r\n                  setStateName(\"\");\r\n                }}\r\n                className=\"mt-1 w-full rounded-lg border px-3 py-2\"\r\n              >\r\n                <option value=\"\">Select Country</option>\r\n                {loadingCountries ? (\r\n                  <option value=\"\">Loading countries...</option>\r\n                ) : (\r\n                  countries.map((c) => (\r\n                    <option key={c.geonameId} value={c.geonameId}>\r\n                      {c.countryName} ({c.countryCode})\r\n                    </option>\r\n                  ))\r\n                )}\r\n              </select>\r\n            </div>\r\n\r\n            <div>\r\n              <label className=\"text-xs text-slate-600 block\">State</label>\r\n              <select\r\n                value={stateGeonameId || \"\"}\r\n                onChange={(e) => {\r\n                  const val = e.target.value;\r\n                  setStateGeonameId(val ? Number(val) : \"\");\r\n                  const found = states.find((s) => s.geonameId === Number(val));\r\n                  setStateName(found ? found.name : \"\");\r\n                }}\r\n                className=\"mt-1 w-full rounded-lg border px-3 py-2\"\r\n                disabled={!countryGeonameId || loadingStates || states.length === 0}\r\n              >\r\n                <option value=\"\">{countryGeonameId ? (loadingStates ? \"Loading states...\" : \"Select State\") : \"Select Country First\"}</option>\r\n                {states.map((s) => (\r\n                  <option key={s.geonameId} value={s.geonameId}>\r\n                    {s.name}\r\n                  </option>\r\n                ))}\r\n              </select>\r\n            </div>\r\n\r\n            <div>\r\n              <label className=\"text-xs text-slate-600 block\">Language</label>\r\n              <input value={language} onChange={(e) => setLanguage(e.target.value)} className=\"mt-1 w-full rounded-lg border px-3 py-2\" />\r\n            </div>\r\n\r\n            <div>\r\n              <label className=\"text-xs text-slate-600 block\">Time zone</label>\r\n              <select value={timezone} onChange={(e) => setTimezone(e.target.value)} className=\"mt-1 w-full rounded-lg border px-3 py-2\">\r\n                <option value=\"\">Select timezone</option>\r\n                {TIMEZONES_38.map((tz) => (\r\n                  <option key={tz} value={tz}>\r\n                    {tz}\r\n                  </option>\r\n                ))}\r\n              </select>\r\n            </div>\r\n          </div>\r\n\r\n          <div className=\"flex justify-end gap-3 mt-2\">\r\n            <button type=\"button\" onClick={onClose} className=\"px-4 py-2 rounded-lg border\">Cancel</button>\r\n            <button ref={primaryRef} type=\"submit\" disabled={saving} className=\"px-4 py-2 rounded-lg bg-blue-600 text-white\">\r\n              {saving ? \"Saving...\" : \"Save changes\"}\r\n            </button>\r\n          </div>\r\n        </form>\r\n      </div>\r\n    </div>,\r\n    document.body\r\n  );\r\n}\r\n"],"names":["React","useEffect","useRef","useState","ReactDOM","GEONAMES_USERNAME","TIMEZONES_38","CountryEntry","geonameId","countryName","countryCode","StateEntry","name","User","id","email","profile","Props","open","onClose","user","onSave","payload","Partial","Promise","EditProfile","saving","setSaving","fullName","setFullName","displayName","setDisplayName","gender","setGender","countryGeonameId","setCountryGeonameId","setCountryCode","setCountryName","stateGeonameId","setStateGeonameId","stateName","setStateName","language","setLanguage","timezone","setTimezone","countries","setCountries","states","setStates","loadingCountries","setLoadingCountries","loadingStates","setLoadingStates","primaryRef","HTMLButtonElement","p","mounted","loadCountries","cached","sessionStorage","getItem","parsed","JSON","parse","res","fetch","ok","Error","json","list","geonames","map","c","setItem","stringify","err","console","error","loadStates","st","g","found","find","prev","document","body","style","overflow","t","setTimeout","current","focus","clearTimeout","onKey","e","KeyboardEvent","key","window","addEventListener","removeEventListener","submit","FormEvent","preventDefault","createPortal","target","value","val","Number","s","length","tz"],"mappings":"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","ignoreList":[],"debugId":null}},
    {"offset": {"line": 709, "column": 0}, "map": {"version":3,"sources":["E:/SignalHub/frontend/src/components/modals/ConfirmModal.tsx"],"sourcesContent":["\"use client\";\r\n\r\nimport React, { useEffect, useRef } from \"react\";\r\nimport ReactDOM from \"react-dom\";\r\n\r\ntype ConfirmModalProps = {\r\n  open: boolean;\r\n  title?: string;\r\n  message?: string;\r\n  confirmLabel?: string;\r\n  cancelLabel?: string;\r\n  onConfirm: () => Promise<void> | void;\r\n  onCancel: () => void;\r\n};\r\n\r\nexport default function ConfirmModal({\r\n  open,\r\n  title = \"Confirm\",\r\n  message = \"Are you sure?\",\r\n  confirmLabel = \"Yes\",\r\n  cancelLabel = \"Cancel\",\r\n  onConfirm,\r\n  onCancel,\r\n}: ConfirmModalProps) {\r\n  const ref = useRef<HTMLDivElement | null>(null);\r\n  const primaryBtnRef = useRef<HTMLButtonElement | null>(null);\r\n\r\n  // prevent background scroll\r\n  useEffect(() => {\r\n    if (!open) return;\r\n    const prev = document.body.style.overflow;\r\n    document.body.style.overflow = \"hidden\";\r\n    primaryBtnRef.current?.focus();\r\n    return () => {\r\n      document.body.style.overflow = prev;\r\n    };\r\n  }, [open]);\r\n\r\n  // close on ESC\r\n  useEffect(() => {\r\n    function onKey(e: KeyboardEvent) {\r\n      if (e.key === \"Escape\") onCancel();\r\n    }\r\n    if (open) window.addEventListener(\"keydown\", onKey);\r\n    return () => window.removeEventListener(\"keydown\", onKey);\r\n  }, [open, onCancel]);\r\n\r\n  if (!open) return null;\r\n\r\n  return ReactDOM.createPortal(\r\n    <div\r\n      role=\"dialog\"\r\n      aria-modal=\"true\"\r\n      aria-labelledby=\"confirm-title\"\r\n      className=\"fixed inset-0 z-50 flex items-center justify-center p-4\"\r\n    >\r\n      <div\r\n        className=\"absolute inset-0 bg-black/40 backdrop-blur-sm\"\r\n        onClick={onCancel}\r\n        aria-hidden\r\n      />\r\n      <div\r\n        ref={ref}\r\n        className=\"relative z-10 max-w-lg w-full bg-white rounded-2xl shadow-xl border p-6\"\r\n      >\r\n        <h3 id=\"confirm-title\" className=\"text-lg font-semibold text-slate-900\">\r\n          {title}\r\n        </h3>\r\n        <p className=\"mt-2 text-sm text-slate-600\">{message}</p>\r\n\r\n        <div className=\"mt-6 flex justify-end gap-3\">\r\n          <button\r\n            onClick={onCancel}\r\n            className=\"px-4 py-2 rounded-lg border text-sm text-slate-700 hover:bg-slate-50\"\r\n          >\r\n            {cancelLabel}\r\n          </button>\r\n          <button\r\n            ref={primaryBtnRef}\r\n            onClick={() => void onConfirm()}\r\n            className=\"px-4 py-2 rounded-lg bg-red-600 text-white text-sm hover:opacity-95\"\r\n          >\r\n            {confirmLabel}\r\n          </button>\r\n        </div>\r\n      </div>\r\n    </div>,\r\n    document.body\r\n  );\r\n}\r\n"],"names":["c","_c","React","useEffect","useRef","ReactDOM","ConfirmModalProps","open","title","message","confirmLabel","cancelLabel","onConfirm","Promise","onCancel","ConfirmModal","t0","$","$i","Symbol","for","t1","t2","t3","t4","undefined","ref","primaryBtnRef","t5","t6","ConfirmModal[useEffect()]","prev","document","body","style","overflow","current","focus","t7","t8","onKey","e","key","window","addEventListener","removeEventListener","t9","t10","t11","t12","t13","t14","ConfirmModal[<button>.onClick]","t15","t16","t17","t18","createPortal"],"mappings":"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","ignoreList":[],"debugId":null}},
    {"offset": {"line": 979, "column": 0}, "map": {"version":3,"sources":["E:/SignalHub/frontend/src/components/profile/ProfileMenu.tsx"],"sourcesContent":["\"use client\";\r\n\r\nimport React, { useEffect, useRef, useState } from \"react\";\r\nimport { useRouter } from \"next/navigation\";\r\nimport ConfirmModal from \"../modals/ConfirmModal\";\r\n\r\nexport default function ProfileMenu({ avatarUrl, email }: { avatarUrl?: string; email?: string }) {\r\n  const router = useRouter();\r\n  const [open, setOpen] = useState(false);\r\n  const [confirmOpen, setConfirmOpen] = useState(false);\r\n  const [loggingOut, setLoggingOut] = useState(false);\r\n  const menuRef = useRef<HTMLDivElement | null>(null);\r\n\r\n  // close on outside click\r\n  useEffect(() => {\r\n    function onDocClick(e: MouseEvent) {\r\n      if (!menuRef.current) return;\r\n      if (!(e.target instanceof Node)) return;\r\n      if (!menuRef.current.contains(e.target)) setOpen(false);\r\n    }\r\n    document.addEventListener(\"mousedown\", onDocClick);\r\n    return () => document.removeEventListener(\"mousedown\", onDocClick);\r\n  }, []);\r\n\r\n  // keyboard support\r\n  useEffect(() => {\r\n    function onKey(e: KeyboardEvent) {\r\n      if (e.key === \"Escape\") setOpen(false);\r\n    }\r\n    if (open) window.addEventListener(\"keydown\", onKey);\r\n    return () => window.removeEventListener(\"keydown\", onKey);\r\n  }, [open]);\r\n\r\n  async function handleLogout() {\r\n    try {\r\n      setLoggingOut(true);\r\n      const res = await fetch(\"/api/auth/logout\", { method: \"POST\" });\r\n      // ignore body; route clears cookie\r\n      setConfirmOpen(false);\r\n      setOpen(false);\r\n      // redirect to login page\r\n      router.replace(\"/auth/login\");\r\n    } catch (err) {\r\n      console.error(\"Logout failed\", err);\r\n      setLoggingOut(false);\r\n      setConfirmOpen(false);\r\n    }\r\n  }\r\n\r\n  return (\r\n    <div className=\"relative\" ref={menuRef}>\r\n      <button\r\n        aria-haspopup=\"menu\"\r\n        aria-expanded={open}\r\n        onClick={() => setOpen((v) => !v)}\r\n        className=\"w-10 h-10 rounded-full bg-slate-100 flex items-center justify-center shadow-sm hover:opacity-95\"\r\n        title=\"Account menu\"\r\n      >\r\n        {avatarUrl ? (\r\n          <img src={avatarUrl} alt=\"avatar\" className=\"w-10 h-10 rounded-full object-cover\" />\r\n        ) : (\r\n          <span className=\"text-sm font-medium text-slate-700\">{(email || \"U\").charAt(0).toUpperCase()}</span>\r\n        )}\r\n      </button>\r\n\r\n      {open && (\r\n        <div\r\n          role=\"menu\"\r\n          aria-label=\"Profile\"\r\n          className=\"absolute right-0 mt-2 w-48 bg-white rounded-xl shadow-lg border py-2 z-20\"\r\n        >\r\n          <button\r\n            role=\"menuitem\"\r\n            onClick={() => {\r\n              setOpen(false);\r\n              router.push(\"/profile\");\r\n            }}\r\n            className=\"w-full text-left px-3 py-2 hover:bg-slate-50 text-sm text-slate-700\"\r\n          >\r\n            View profile\r\n          </button>\r\n\r\n          <button\r\n            role=\"menuitem\"\r\n            onClick={() => {\r\n              setConfirmOpen(true);\r\n            }}\r\n            className=\"w-full text-left px-3 py-2 hover:bg-slate-50 text-sm text-slate-700\"\r\n          >\r\n            Logout\r\n          </button>\r\n        </div>\r\n      )}\r\n\r\n      <ConfirmModal\r\n        open={confirmOpen}\r\n        title=\"Log out?\"\r\n        message=\"Do you want to logout?\"\r\n        confirmLabel={loggingOut ? \"Logging out...\" : \"Yes, log out\"}\r\n        cancelLabel=\"Cancel\"\r\n        onCancel={() => setConfirmOpen(false)}\r\n        onConfirm={async () => {\r\n          await handleLogout();\r\n        }}\r\n      />\r\n    </div>\r\n  );\r\n}\r\n"],"names":["c","_c","React","useEffect","useRef","useState","useRouter","ConfirmModal","ProfileMenu","t0","$","$i","Symbol","for","avatarUrl","email","router","open","setOpen","confirmOpen","setConfirmOpen","loggingOut","setLoggingOut","menuRef","t1","t2","ProfileMenu[useEffect()]","onDocClick","e","current","target","Node","contains","document","addEventListener","removeEventListener","t3","t4","onKey","e_0","key","window","t5","handleLogout","fetch","method","replace","t6","err","console","error","ProfileMenu[<button>.onClick]","_ProfileMenuButtonOnClickSetOpen","t7","charAt","toUpperCase","t8","t9","push","t10","t11","ProfileMenu[<ConfirmModal>.onCancel]","t12","ProfileMenu[<ConfirmModal>.onConfirm]","t13","t14","v"],"mappings":";;;;;AAAa,SAAAA,CAAA,IAAAC,EAAA;AAEb,OAAOC,KAAK,IAAIC,SAAS,EAAEC,MAAM,EAAEC,QAAQ,QAAQ,OAAO;AAC1D,SAASC,SAAS,QAAQ,iBAAiB;AAC3C,OAAOC,YAAY,MAAM,wBAAwB;;;AAJjD,YAAY;;;;;AAMG,qBAAAE,EAAA;;IAAA,MAAAC,CAAA,OAAAT,gLAAA,EAAA;IAAA,IAAAS,CAAA,CAAA,EAAA,KAAA,oEAAA;QAAA,IAAA,IAAAC,EAAA,GAAA,GAAAA,EAAA,GAAA,IAAAA,EAAA,IAAA,EAAA;YAAAD,CAAA,CAAAC,EAAA,CAAA,GAAAC,MAAA,CAAAC,GAAA,CAAA;QAAA;QAAAH,CAAA,CAAA,EAAA,GAAA;IAAA;IAAqB,MAAA,EAAAI,SAAA,EAAAC,KAAAA,EAAA,GAAAN,EAA4D;IAC9F,MAAAO,MAAA;IACA,MAAA,CAAAC,IAAA,EAAAC,OAAA,CAAA,OAAwBb,yKAAQ,EAAC,KAAK,CAAC;IACvC,MAAA,CAAAc,WAAA,EAAAC,cAAA,CAAA,OAAsCf,yKAAQ,EAAC,KAAK,CAAC;IACrD,MAAA,CAAAgB,UAAA,EAAAC,aAAA,CAAA,GAAoCjB,6KAAQ,EAAC,KAAK,CAAC;IACnD,MAAAkB,OAAA,GAAgBnB,2KAAM,EAAwB,IAAI,CAAC;IAAC,IAAAoB,EAAA;IAAA,IAAAC,EAAA;IAAA,IAAAf,CAAA,CAAA,EAAA,KAAAE,MAAA,CAAAC,GAAA,CAAA,8BAAA;QAG1CW,EAAA,GAAA,CAAA;YAAA,4BAAAE,CAAA;gBACR,MAAAC,UAAA,GAAA,SAAAA,WAAAC,CAAA;oBACE,IAAI,CAACL,OAAO,CAAAM,OAAQ,EAAA;wBAAA;oBAAA;oBACpB,IAAI,CAAA,CAAED,CAAC,CAAAE,MAAO,YAAYC,IAAI,CAAC,EAAA;wBAAA;oBAAA;oBAC/B,IAAI,CAACR,OAAO,CAAAM,OAAQ,CAAAG,QAAS,CAACJ,CAAC,CAAAE,MAAO,CAAC,EAAA;wBAAEZ,OAAO,CAAC,KAAK,CAAC;oBAAA;gBAAC,CACzD;gBACDe,QAAQ,CAAAC,gBAAiB,CAAC,WAAW,EAAEP,UAAU,CAAC;gBAAA,OAC3C,IAAMM,QAAQ,CAAAE,mBAAoB,CAAC,WAAW,EAAER,UAAU,CAAC;YAAA;QAAA,EAAA,CAAA,2BACnE;QAAEF,EAAA,GAAA,EAAE;QAAAf,CAAA,CAAA,EAAA,GAAAc,EAAA;QAAAd,CAAA,CAAA,EAAA,GAAAe,EAAA;IAAA,OAAA;QAAAD,EAAA,GAAAd,CAAA,CAAA,EAAA;QAAAe,EAAA,GAAAf,CAAA,CAAA,EAAA;IAAA;QARLP,0KAAS,EAACqB,EAQT,EAAEC,EAAE,CAAC;IAAA,IAAAW,EAAA;IAAA,IAAAC,EAAA;IAAA,IAAA3B,CAAA,CAAA,EAAA,KAAAO,IAAA,EAAA;QAGImB,EAAA,GAAA,CAAA;YAAA,4BAAAV,CAAA;gBACR,MAAAY,KAAA,GAAA,SAAAA,MAAAC,GAAA;oBACE,IAAIX,GAAC,CAAAY,GAAI,KAAK,QAAQ,EAAA;wBAAEtB,OAAO,CAAC,KAAK,CAAC;oBAAA;gBAAC,CACxC;gBACD,IAAID,IAAI,EAAA;oBAAEwB,MAAM,CAAAP,gBAAiB,CAAC,SAAS,EAAEI,KAAK,CAAC;gBAAA;gBAAC,OAC7C,IAAMG,MAAM,CAAAN,mBAAoB,CAAC,SAAS,EAAEG,KAAK,CAAC;YAAA;SAAA,CAAA,CAAA,2BAC1D;QAAED,EAAA,GAAA;YAACpB,IAAI;SAAC;QAAAP,CAAA,CAAA,EAAA,GAAAO,IAAA;QAAAP,CAAA,CAAA,EAAA,GAAA0B,EAAA;QAAA1B,CAAA,CAAA,EAAA,GAAA2B,EAAA;IAAA,OAAA;QAAAD,EAAA,GAAA1B,CAAA,CAAA,EAAA;QAAA2B,EAAA,GAAA3B,CAAA,CAAA,EAAA;IAAA;QANTP,0KAAS,EAACiC,EAMT,EAAEC,EAAM,CAAC;IAAA,IAAAK,EAAA;IAAA,IAAAhC,CAAA,CAAA,EAAA,KAAAM,MAAA,EAAA;QAEV0B,EAAA,GAAA,eAAAC,aAAA;;YACE,IAAA;gBACErB,aAAa,CAAC,IAAI,CAAC;gBACP,MAAMsB,KAAK,CAAC,kBAAkB,EAAE;oBAAAC,MAAA,EAAU;gBAAO,CAAC,CAAC;gBAE/DzB,cAAc,CAAC,KAAK,CAAC;gBACrBF,OAAO,CAAC,KAAK,CAAC;gBAEdF,MAAM,CAAA8B,OAAQ,CAAC,aAAa,CAAC;YAAA,EAAA,OAAAC,EAAA,EAAA;gBACtBC,KAAA,CAAAA,GAAA,CAAAA,CAAA,CAAAA,EAAG;gBACVC,OAAO,CAAAC,KAAM,CAAC,eAAe,EAAEF,GAAG,CAAC;gBACnC1B,aAAa,CAAC,KAAK,CAAC;gBACpBF,cAAc,CAAC,KAAK,CAAC;YAAA;QACtB,CACF;QAAAV,CAAA,CAAA,EAAA,GAAAM,MAAA;QAAAN,CAAA,CAAA,EAAA,GAAAgC,EAAA;IAAA,OAAA;QAAAA,EAAA,GAAAhC,CAAA,CAAA,EAAA;IAAA;IAdD,MAAAiC,YAAA,GAAAD,EAcC;IAAA,IAAAK,EAAA;IAAA,IAAArC,CAAA,CAAA,EAAA,KAAAE,MAAA,CAAAC,GAAA,CAAA,8BAAA;QAOckC,EAAA,GAAA,CAAA;YAAA,iCAAAI,CAAA,GAAMjC,OAAO,CAACkC,gCAAS;SAAC,CAAA,CAAA,gCAAA;QAAA1C,CAAA,CAAA,EAAA,GAAAqC,EAAA;IAAA,OAAA;QAAAA,EAAA,GAAArC,CAAA,CAAA,EAAA;IAAA;IAAA,IAAA2C,EAAA;IAAA,IAAA3C,CAAA,CAAA,EAAA,KAAAI,SAAA,IAAAJ,CAAA,CAAA,GAAA,KAAAK,KAAA,EAAA;QAIhCsC,EAAA,GAAAvC,SAAS,iBACR,6LAAA,GAAoF;YAA1EA,GAAS,CAATA,CAAAA,SAAQ,CAAC;YAAM,GAAQ,EAAR,QAAQ;YAAW,SAAqC,EAArC,qCAAqC,GAGlF;;;;;iCADC,6LAAA,IAAoG;YAApF,SAAoC,EAApC,oCAAoC,CAAE;sBAAA,CAACC,KAAY,IAAZ,GAAY,EAAAuC,MAAQ,CAAC,CAAC,CAAC,CAAAC,WAAY,CAAC,EAAE,EAA7F,IAAoG,CACrG;;;;;;QAAA7C,CAAA,CAAA,EAAA,GAAAI,SAAA;QAAAJ,CAAA,CAAA,GAAA,GAAAK,KAAA;QAAAL,CAAA,CAAA,GAAA,GAAA2C,EAAA;IAAA,OAAA;QAAAA,EAAA,GAAA3C,CAAA,CAAA,GAAA;IAAA;IAAA,IAAA8C,EAAA;IAAA,IAAA9C,CAAA,CAAA,GAAA,KAAAO,IAAA,IAAAP,CAAA,CAAA,GAAA,KAAA2C,EAAA,EAAA;QAXHG,EAAA,iBAAA,6LAAA,MAYS;YAXO,aAAM,IAAN,MAAM;YACLvC,aAAI,CAAJA,GAAAA,IAAG,CAAC;YACV,OAAwB,CAAxB,CAAA8B,EAAuB,CAAC;YACvB,SAAiG,EAAjG,iGAAiG;YACrG,KAAc,EAAd,cAAc,CAEnB;sBAAAM,EAID,CACF,EAZA,MAYS;;;;;;QAAA3C,CAAA,CAAA,GAAA,GAAAO,IAAA;QAAAP,CAAA,CAAA,GAAA,GAAA2C,EAAA;QAAA3C,CAAA,CAAA,GAAA,GAAA8C,EAAA;IAAA,OAAA;QAAAA,EAAA,GAAA9C,CAAA,CAAA,GAAA;IAAA;IAAA,IAAA+C,EAAA;IAAA,IAAA/C,CAAA,CAAA,GAAA,KAAAO,IAAA,IAAAP,CAAA,CAAA,GAAA,KAAAM,MAAA,EAAA;QAERyC,EAAA,GAAAxC,IA2BA,kBA1BC,6LAAA,GAyBM;YAxBC,IAAM,EAAN,MAAM;YACA,UAAS,IAAT,SAAS;YACV,SAA2E,EAA3E,2EAA2E;;8BAErF,6LAAA,MASS;oBARF,IAAU,EAAV,UAAU;oBACN,OAGR,CAHQ,CAAA;wBAAA,iCAAAkC,CAAA;4BACPjC,OAAO,CAAC,KAAK,CAAC;4BACdF,MAAM,CAAA0C,IAAK,CAAC,UAAU,CAAC;wBAAA;oBAAA,CAAA,CAAA,gCACzB,CAAC;oBACS,SAAqE,EAArE,qEAAqE;8BAChF,YAED,EATA,MASS;;;;;;8BAET,6LAAA,MAQS;oBAPF,IAAU,EAAV,UAAU;oBACN,OAER,CAFQ,CAAA;wBAAA,iCAAAP,CAAA;4BACP/B,cAAc,CAAC,IAAI,CAAC;wBAAA;oBAAA,CAAA,CAAA,gCACtB,CAAC;oBACS,SAAqE,EAArE,qEAAqE;8BAChF,MAED,EARA,MAQS,CACX,EAzBA,GAyBM,CACP;;;;;;;;;;;;QAAAV,CAAA,CAAA,GAAA,GAAAO,IAAA;QAAAP,CAAA,CAAA,GAAA,GAAAM,MAAA;QAAAN,CAAA,CAAA,GAAA,GAAA+C,EAAA;IAAA,OAAA;QAAAA,EAAA,GAAA/C,CAAA,CAAA,GAAA;IAAA;IAMe,MAAAiD,GAAA,GAAAtC,UAAU,GAAV,gBAA8C,GAA9C,cAA8C;IAAA,IAAAuC,GAAA;IAAA,IAAAlD,CAAA,CAAA,GAAA,KAAAE,MAAA,CAAAC,GAAA,CAAA,8BAAA;QAElD+C,GAAA,GAAA,CAAA;YAAA,wCAAAC,CAAA,GAAMzC,cAAc,CAAC,KAAK;SAAC,CAAA,CAAA,uCAAA;QAAAV,CAAA,CAAA,GAAA,GAAAkD,GAAA;IAAA,OAAA;QAAAA,GAAA,GAAAlD,CAAA,CAAA,GAAA;IAAA;IAAA,IAAAoD,GAAA;IAAA,IAAApD,CAAA,CAAA,GAAA,KAAAiC,YAAA,EAAA;QAC1BmB,GAAA,GAAA,CAAA;YAAA,yCAAA,MAAAC,CAAA;gBACT,MAAMpB,YAAY,CAAC,CAAC;YAAA;SAAA,CAAA,CAAA,wCACrB;QAAAjC,CAAA,CAAA,GAAA,GAAAiC,YAAA;QAAAjC,CAAA,CAAA,GAAA,GAAAoD,GAAA;IAAA,OAAA;QAAAA,GAAA,GAAApD,CAAA,CAAA,GAAA;IAAA;IAAA,IAAAsD,GAAA;IAAA,IAAAtD,CAAA,CAAA,GAAA,KAAAS,WAAA,IAAAT,CAAA,CAAA,GAAA,KAAAiD,GAAA,IAAAjD,CAAA,CAAA,GAAA,KAAAoD,GAAA,EAAA;QATHE,GAAA,iBAAA,6LAAC,0JAAY;YACL7C,IAAW,CAAXA,CAAAA,WAAU,CAAC;YACX,KAAU,EAAV,UAAU;YACR,OAAwB,EAAxB,wBAAwB;YAClB,YAA8C,CAA9C,CAAAwC,GAA6C,CAAC;YAChD,WAAQ,EAAR,QAAQ;YACV,QAA2B,CAA3B,CAAAC,GAA0B,CAAC;YAC1B,SAEV,CAFU,CAAAE,GAEX,CAAC,GACD;;;;;;QAAApD,CAAA,CAAA,GAAA,GAAAS,WAAA;QAAAT,CAAA,CAAA,GAAA,GAAAiD,GAAA;QAAAjD,CAAA,CAAA,GAAA,GAAAoD,GAAA;QAAApD,CAAA,CAAA,GAAA,GAAAsD,GAAA;IAAA,OAAA;QAAAA,GAAA,GAAAtD,CAAA,CAAA,GAAA;IAAA;IAAA,IAAAuD,GAAA;IAAA,IAAAvD,CAAA,CAAA,GAAA,KAAAsD,GAAA,IAAAtD,CAAA,CAAA,GAAA,KAAA8C,EAAA,IAAA9C,CAAA,CAAA,GAAA,KAAA+C,EAAA,EAAA;QAtDJQ,GAAA,iBAAA,6LAAA,GAuDM;YAvDS,SAAU,EAAV,UAAU;YAAM1C,GAAO,CAAPA,CAAAA,OAAM,CAAC,CACpC;;gBAAAiC,EAYQ,CAEP;gBAAAC,EA2BD,CAEA;gBAAAO,GAUC,CACH,EAvDA,GAuDM;;;;;;;QAAAtD,CAAA,CAAA,GAAA,GAAAsD,GAAA;QAAAtD,CAAA,CAAA,GAAA,GAAA8C,EAAA;QAAA9C,CAAA,CAAA,GAAA,GAAA+C,EAAA;QAAA/C,CAAA,CAAA,GAAA,GAAAuD,GAAA;IAAA,OAAA;QAAAA,GAAA,GAAAvD,CAAA,CAAA,GAAA;IAAA;IAAA,OAvDNuD,GAuDM;AAAA;;;QAlGO3D,kJAAS,CAAC,CAAC;;;KADbE;AAAA,SAAA4C,iCAAAc,CAAA;IAAA,OAgDuB,CAACA,CAAC;AAAA","ignoreList":[],"debugId":null}},
    {"offset": {"line": 1277, "column": 0}, "map": {"version":3,"sources":["E:/SignalHub/frontend/src/app/profile/page.tsx"],"sourcesContent":["\"use client\";\r\n\r\nimport React, { useEffect, useState } from \"react\";\r\nimport Link from \"next/link\";\r\nimport { useRouter } from \"next/navigation\";\r\nimport EditProfileModal from \"@/components/profile/EditProfile\";\r\nimport ProfileMenu from \"@/components/profile/ProfileMenu\";\r\n\r\ntype Profile = {\r\n  displayName?: string;\r\n  gender?: string;\r\n  country?: string;\r\n  state?: string;\r\n  language?: string;\r\n  timezone?: string;\r\n  avatarUrl?: string;\r\n};\r\n\r\ntype User = {\r\n  id: string;\r\n  email: string;\r\n  name?: string;\r\n  role?: string;\r\n  profile?: Profile | any;\r\n  updatedAt?: string; // ISO timestamp from server\r\n};\r\n\r\nexport default function ProfilePage() {\r\n  const router = useRouter();\r\n  const [user, setUser] = useState<User | null>(null);\r\n  const [loading, setLoading] = useState(true);\r\n  const [editOpen, setEditOpen] = useState(false);\r\n  const [activity, setActivity] = useState<{ logins30d: number; changes30d: number } | null>(null);\r\n\r\n  useEffect(() => {\r\n    let mounted = true;\r\n    const ac = new AbortController();\r\n\r\n    fetch(\"/api/me\", { signal: ac.signal })\r\n      .then(async (res) => {\r\n        if (!res.ok) return null;\r\n        const json = await res.json();\r\n        return json ?? null;\r\n      })\r\n      .then((j) => {\r\n        if (!mounted || !j) return;\r\n        setUser(j.user ?? null);\r\n        setActivity(j.activity ?? null);\r\n      })\r\n      .catch((err) => {\r\n        if (err.name === \"AbortError\") return;\r\n        setUser(null);\r\n        setActivity(null);\r\n      })\r\n      .finally(() => {\r\n        if (mounted) setLoading(false);\r\n      });\r\n\r\n    return () => {\r\n      mounted = false;\r\n      ac.abort();\r\n    };\r\n  }, []);\r\n\r\n  // helper: compute relative time label for updatedAt\r\n  function formatRelativeTime(iso?: string | null) {\r\n    if (!iso) return \"â€”\";\r\n    const then = new Date(iso).getTime();\r\n    if (isNaN(then)) return \"â€”\";\r\n    const diffMs = Date.now() - then;\r\n    const diffMins = Math.floor(diffMs / 60000);\r\n\r\n    if (diffMins < 1) return \"just now\";\r\n    if (diffMins < 60) return `${diffMins}m ago`;\r\n\r\n    const diffHours = Math.floor(diffMins / 60);\r\n    if (diffHours < 24) return `${diffHours}h ago`;\r\n\r\n    const diffDays = Math.floor(diffHours / 24);\r\n    return `${diffDays}d ago`;\r\n  }\r\n\r\n  async function handleSave(updated: Partial<User & { profile?: any }>) {\r\n    const prev = user;\r\n    setUser((prevU) => (prevU ? { ...prevU, ...updated } : prevU));\r\n\r\n    try {\r\n      const res = await fetch(\"/api/me\", {\r\n        method: \"PATCH\",\r\n        headers: { \"Content-Type\": \"application/json\" },\r\n        body: JSON.stringify(updated),\r\n      });\r\n\r\n      if (!res.ok) {\r\n        const txt = await res.text();\r\n        console.error(\"Save failed:\", txt);\r\n        setUser(prev ?? null);\r\n        return false;\r\n      }\r\n\r\n      const json = await res.json();\r\n      if (json?.user) setUser(json.user);\r\n      if (json?.activity) setActivity(json.activity);\r\n      return true;\r\n    } catch (err) {\r\n      console.error(err);\r\n      setUser(prev ?? null);\r\n      return false;\r\n    }\r\n  }\r\n\r\n  if (loading) return <div className=\"p-6\">Loading...</div>;\r\n  if (!user) return <div className=\"p-6\">Not logged in</div>;\r\n\r\n  const profile = (user.profile ?? {}) as Profile;\r\n  const role = user?.role?.toString()?.toUpperCase() ?? \"VIEWER\";\r\n  const lastUpdatedLabel = formatRelativeTime(user.updatedAt ?? profile?.updatedAt ?? null);\r\n\r\n  return (\r\n    <main className=\"min-h-screen bg-gradient-to-b from-slate-50 via-white to-slate-50\">\r\n      <div className=\"max-w-7xl mx-auto px-6 py-8\">\r\n        {/* Header */}\r\n        <div className=\"flex items-center justify-between mb-6\">\r\n          <div className=\"flex items-center gap-4\">\r\n            <div className=\"h-12 w-12 rounded-xl bg-gradient-to-br from-blue-600 to-indigo-600 flex items-center justify-center shadow-md\">\r\n              <svg width=\"26\" height=\"26\" viewBox=\"0 0 24 24\" fill=\"none\" aria-hidden>\r\n                <path d=\"M3 12h18\" stroke=\"white\" strokeWidth=\"2\" strokeLinecap=\"round\" />\r\n                <path d=\"M7 6v12\" stroke=\"white\" strokeWidth=\"2\" strokeLinecap=\"round\" />\r\n              </svg>\r\n            </div>\r\n            <div>\r\n              <div className=\"text-lg font-semibold text-slate-900\">Profile</div>\r\n              <div className=\"text-xs text-slate-500\">Manage your personal details and contact info</div>\r\n            </div>\r\n          </div>\r\n\r\n          <div className=\"flex items-center gap-4\">\r\n            <div className=\"hidden sm:inline-flex items-center gap-2 rounded-full px-3 py-1 bg-slate-100 text-slate-800 text-sm\">\r\n              <strong className=\"uppercase\">{role}</strong>\r\n              <span className=\"text-xs text-slate-600\">access</span>\r\n            </div>\r\n\r\n            <ProfileMenu email={user.email} avatarUrl={profile.avatarUrl} />\r\n          </div>\r\n        </div>\r\n\r\n        <div className=\"grid grid-cols-1 lg:grid-cols-12 gap-6\">\r\n          {/* Left column: profile card + contacts */}\r\n          <div className=\"lg:col-span-8\">\r\n            <section className=\"bg-white/60 backdrop-blur-md rounded-3xl p-8 shadow-lg border border-slate-100\">\r\n              <div className=\"flex items-start gap-6\">\r\n                <div className=\"w-24 h-24 rounded-full overflow-hidden bg-slate-100 flex items-center justify-center\">\r\n                  {profile?.avatarUrl ? (\r\n                    // eslint-disable-next-line @next/next/no-img-element\r\n                    <img src={profile.avatarUrl} alt=\"avatar\" className=\"w-full h-full object-cover\" />\r\n                  ) : (\r\n                    <div className=\"text-3xl font-semibold text-slate-700\">{(user.name || user.email || \"U\").charAt(0).toUpperCase()}</div>\r\n                  )}\r\n                </div>\r\n\r\n                <div className=\"flex-1\">\r\n                  <div className=\"flex items-center gap-4\">\r\n                    <div>\r\n                      <h1 className=\"text-2xl font-bold text-slate-900\">{user.name ?? \"â€”\"}</h1>\r\n                      <div className=\"text-sm text-slate-500\">{user.email}</div>\r\n                    </div>\r\n\r\n                    <div className=\"ml-auto flex items-center gap-3\">\r\n                      <button onClick={() => setEditOpen(true)} className=\"px-4 py-2 rounded-lg bg-blue-700 text-white shadow hover:opacity-95\">\r\n                        Edit\r\n                      </button>\r\n                      <Link href=\"/settings\" className=\"px-3 py-2 rounded-lg border text-slate-700 hover:bg-slate-50\">\r\n                        Settings\r\n                      </Link>\r\n                    </div>\r\n                  </div>\r\n\r\n                  <div className=\"mt-4 text-xs text-slate-500\">Last profile update: <span className=\"font-medium text-slate-700\">{lastUpdatedLabel}</span></div>\r\n\r\n                  <div className=\"mt-6 grid grid-cols-2 gap-4 text-sm text-slate-600\">\r\n                    <div>\r\n                      <div className=\"text-xs text-slate-400\">Full Name</div>\r\n                      <div className=\"mt-1\">{user.name ?? \"â€”\"}</div>\r\n                    </div>\r\n                    <div>\r\n                      <div className=\"text-xs text-slate-400\">Display Name</div>\r\n                      <div className=\"mt-1\">{profile.displayName ?? user.name ?? \"â€”\"}</div>\r\n                    </div>\r\n\r\n                    <div>\r\n                      <div className=\"text-xs text-slate-400\">Gender</div>\r\n                      <div className=\"mt-1\">{profile.gender ?? \"I'd prefer not to say\"}</div>\r\n                    </div>\r\n\r\n                    <div>\r\n                      <div className=\"text-xs text-slate-400\">Country/Region</div>\r\n                      <div className=\"mt-1\">{profile.country ?? \"â€”\"}</div>\r\n                    </div>\r\n\r\n                    <div>\r\n                      <div className=\"text-xs text-slate-400\">State</div>\r\n                      <div className=\"mt-1\">{profile.state ?? \"â€”\"}</div>\r\n                    </div>\r\n\r\n                    <div>\r\n                      <div className=\"text-xs text-slate-400\">Language</div>\r\n                      <div className=\"mt-1\">{profile.language ?? \"English\"}</div>\r\n                    </div>\r\n\r\n                    <div className=\"col-span-2\">\r\n                      <div className=\"text-xs text-slate-400\">Time zone</div>\r\n                      <div className=\"mt-1 text-sm text-slate-600\">{profile.timezone ?? \"(GMT +05:30) India Standard Time (Asia/Kolkata)\"}</div>\r\n                    </div>\r\n                  </div>\r\n                </div>\r\n              </div>\r\n\r\n              <div className=\"mt-6\">\r\n                <h3 className=\"text-sm font-semibold text-slate-700 mb-2\">About</h3>\r\n                <p className=\"text-sm text-slate-600\">Use this profile page to keep your contact details up to date. Your name, display name and timezone are used across the app for messaging and notifications.</p>\r\n              </div>\r\n            </section>\r\n\r\n            <section className=\"mt-6 bg-white rounded-3xl p-6 shadow border border-slate-100\">\r\n              <h2 className=\"text-lg font-semibold mb-2\">My Email Addresses</h2>\r\n              <p className=\"text-sm text-slate-500 mb-4\">View and manage the email addresses associated with your account.</p>\r\n\r\n              <div className=\"border rounded-lg p-4\">\r\n                <div className=\"flex items-center justify-between\">\r\n                  <div className=\"flex items-center gap-3\">\r\n                    <div className=\"w-10 h-10 rounded-full bg-rose-100 flex items-center justify-center text-rose-600\">ðŸ“§</div>\r\n                    <div>\r\n                      <div className=\"font-medium\">{user.email}</div>\r\n                      <div className=\"text-xs text-slate-400\">primary â€¢ added 6 months ago</div>\r\n                    </div>\r\n                  </div>\r\n\r\n                  <div className=\"flex items-center gap-3\">\r\n                    <button className=\"px-3 py-2 text-sm rounded bg-slate-50\">Make primary</button>\r\n                    <button className=\"px-3 py-2 text-sm text-blue-600\">+ Add Email Address</button>\r\n                  </div>\r\n                </div>\r\n              </div>\r\n            </section>\r\n\r\n            <section className=\"mt-6 bg-white rounded-3xl p-6 shadow border border-slate-100\">\r\n              <h2 className=\"text-lg font-semibold mb-2\">My Mobile Numbers</h2>\r\n              <p className=\"text-sm text-slate-500 mb-4\">View and manage all of the mobile numbers associated with your account.</p>\r\n\r\n              <div className=\"border rounded-lg p-4\">\r\n                <div className=\"flex items-center justify-between\">\r\n                  <div className=\"flex items-center gap-3\">\r\n                    <div className=\"w-10 h-10 rounded-full bg-amber-100 flex items-center justify-center text-amber-600\">ðŸ“ž</div>\r\n                    <div>\r\n                      <div className=\"font-medium\">+91 85977 86209</div>\r\n                      <div className=\"text-xs text-slate-400\">verified â€¢ added 6 months ago</div>\r\n                    </div>\r\n                  </div>\r\n\r\n                  <div className=\"flex items-center gap-3\">\r\n                    <button className=\"px-3 py-2 text-sm rounded bg-slate-50\">Verify</button>\r\n                    <button className=\"px-3 py-2 text-sm text-blue-600\">+ Add Mobile Number</button>\r\n                  </div>\r\n                </div>\r\n              </div>\r\n            </section>\r\n          </div>\r\n\r\n          {/* Right column: analytics + quick actions */}\r\n          <aside className=\"lg:col-span-4 space-y-4\">\r\n            <div className=\"bg-white rounded-2xl p-4 shadow-sm border border-slate-100\">\r\n              <div className=\"flex items-center justify-between\">\r\n                <h3 className=\"text-sm font-semibold text-slate-700\">Profile Activity (30 days)</h3>\r\n                <span className=\"text-xs text-slate-500\">Updated just now</span>\r\n              </div>\r\n\r\n              <div className=\"mt-3\">\r\n                <div className=\"flex items-end gap-6\">\r\n                  <div>\r\n                    <div className=\"text-2xl font-bold\">{activity ? activity.logins30d : \"â€”\"}</div>\r\n                    <div className=\"text-xs text-slate-500\">Logins (30d)</div>\r\n                  </div>\r\n                  <div>\r\n                    <div className=\"text-2xl font-bold\">{activity ? activity.changes30d : \"â€”\"}</div>\r\n                    <div className=\"text-xs text-slate-500\">Profile changes (30d)</div>\r\n                  </div>\r\n                </div>\r\n              </div>\r\n            </div>\r\n\r\n            <div className=\"bg-white rounded-2xl p-4 shadow-sm border border-slate-100\">\r\n              <h4 className=\"text-sm font-semibold text-slate-700 mb-2\">Quick actions</h4>\r\n              <div className=\"flex flex-col gap-2\">\r\n                <button className=\"text-left px-3 py-2 rounded-lg bg-slate-50\" onClick={() => router.push('/inbox')}>Open Inbox</button>\r\n                <Link className=\"text-left px-3 py-2 rounded-lg bg-slate-50\" href=\"/settings\">Settings & Integrations</Link>\r\n                <Link className=\"text-left px-3 py-2 rounded-lg bg-slate-50\" href=\"/security\">Security</Link>\r\n              </div>\r\n            </div>\r\n\r\n            <div className=\"text-center text-sm text-slate-500\">Built for the Attack Capital assignment â€” profile management UI.</div>\r\n          </aside>\r\n        </div>\r\n      </div>\r\n\r\n      <EditProfileModal\r\n        open={editOpen}\r\n        onClose={() => setEditOpen(false)}\r\n        user={user}\r\n        onSave={async (payload) => {\r\n          const ok = await handleSave(payload);\r\n          if (ok) setEditOpen(false);\r\n          return ok;\r\n        }}\r\n      />\r\n    </main>\r\n  );\r\n}\r\n"],"names":["React","useEffect","useState","Link","useRouter","EditProfileModal","ProfileMenu","Profile","displayName","gender","country","state","language","timezone","avatarUrl","User","id","email","name","role","profile","updatedAt","ProfilePage","router","user","setUser","loading","setLoading","editOpen","setEditOpen","activity","setActivity","logins30d","changes30d","mounted","ac","AbortController","fetch","signal","then","res","ok","json","j","catch","err","finally","abort","formatRelativeTime","iso","Date","getTime","isNaN","diffMs","now","diffMins","Math","floor","diffHours","diffDays","handleSave","updated","Partial","prev","prevU","method","headers","body","JSON","stringify","txt","text","console","error","toString","toUpperCase","lastUpdatedLabel","charAt","push","payload"],"mappings":"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","ignoreList":[],"debugId":null}}]
}